
---
title: 'API 요청에 대한 인증'
description: '이 주제에서는 Brightcove REST API에 대한 요청에 대한 인증을 다룹니다. '
parent: General 
grandparent: Home
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">소개</h2>

    <p>대부분의 Brightcove REST API는 인증을 위한 기반으로 OAuth2를 사용하며 다음 섹션에서 OAuth 구현에 대해 자세히 살펴보겠습니다.</p>

    <p>그러나 먼저 두 API가 인증에 대해 서로 다른 접근 방식을 사용한다는 점에 유의하십시오.</p>

    <section class="bcls-subsection">
      <h3 id="policy_key">정책 키 인증: 재생 API</h3>

      <p>NS <a href="/playback/index.html">재생 API</a>주로 플레이어 또는 웹 포털에서 비디오 및 재생 목록 데이터를 검색하는 데 사용되며<code translate="No">policy_key</code> , 인증을 위해 일반적으로 인수로 전달됩니다. <code translate="No">Accept</code>헤더:</p>

      <pre>
        <code class="language-http" translate="No">Accept: application/json;pk={policy_key}</code></pre>

      <p>정책 키는 Brightcove 플레이어에 대해 자동으로 생성되며 다음에서 가져올 수 있습니다. <a href="/policy/getting-started/policy-keys.html#Getting_the_policy_key">플레이어 구성</a> , 또는 다음을 사용하여 생성된<a href="/policy/index.html">정책 API</a></p>
    </section>

    <section class="bcls-subsection">
      <h3 id="authentication_api_key">API 키 인증: 라이브 API</h3>

      <p>NS <a href="https://live.support.brightcove.com/live-api/">라이브 API</a>계정이 요청을 인증하도록 설정할 때 제공되는 API 키를 사용합니다. API 키는<code translate="No">X-API-KEY</code>헤더:</p>

      <pre>
        <code class="language-http" translate="No">X-API-KEY : {YOUR_APIKey}</code></pre>
    </section>
  </section>

  <section class="bcls-section">
    <h2 id="oauth2_authentication">OAuth2 인증</h2>

    <p>다른 Video Cloud용 REST API는 인증을 위해 OAuth2를 사용하고, OAuth2에 익숙한 사용자를 위해 클라이언트 자격 증명 흐름을 사용합니다. 관련된 두 가지 작업이 있습니다.</p>

    <ol>
      <li><strong>클라이언트 자격 증명 가져오기:</strong>이것은 다음을 사용하여 가장 쉽게 수행할 수 있는 일회성 작업입니다. <strong> API 인증</strong> Studio의 관리 도구 페이지. 보다<a href="/general/managing-api-authentication-credentials.html"> API 인증 자격 증명 관리</a>자세한 내용 및 단계별 지침은</li>
      <li><strong>액세스 토큰 받기:</strong>각 API 요청에는<code translate="No">Authorization</code>헤더:
        <pre>
        <code class="language-http" translate="No">Authorization: Bearer {access_token}</code></pre>

        <p>액세스 토큰은 5분 동안 유지되므로 반복적인 API 요청을 생성하는 프로세스를 실행하지 않는 한 각 요청에 대해 새 토큰을 받기를 원할 것입니다.</p>

        <p>액세스 토큰은 Brightcove의 OAuth API에 대한 요청에서 클라이언트 자격 증명을 전송하여 얻습니다. 보다<a href="/oauth/guides/getting-access-tokens.html">액세스 토큰 받기</a>자세한 내용은 또 한있다<a href="/oauth/code-samples/oauth-api-sample-get-access-token.html">샘플 앱</a> API 호출을 테스트하기 위한 일회용 토큰을 얻는 데 사용할 수 있습니다. 인기 있는 REST 클라이언트를 구성하기 위한 지침도 있습니다. <a href="/general/use-postman-api-requests.html">우편 집배원</a>그리고<a href="/general/use-insomnia-api-requests.html">불명 증</a> .</p>
      </li>
    </ol>
  </section>
  <section class="bcls-section" id="stepsGetCredentials">
    <h2>OAuth API를 통한 클라이언트 자격 증명</h2>

    <p>OAuth API를 사용하여 클라이언트 자격 증명을 생성하고 싶거나 생성해야 하는 경우 아래 단계는 클라이언트 자격 증명을 가져오는 과정을 안내합니다. 먼저 클라이언트 자격 증명 요청에 대해 인증하는 데 사용되는 BC_TOKEN을 가져와야 합니다.</p>

    <h3>당신의<code translate="No">BC_TOKEN</code>계좌번호</h3>

    <p>를 얻으려면 Studio에 로그인해야 합니다. <code translate="No">BC_TOKEN</code> .</p>

    <ol class="bcls-tasklist">
      <li>평소와 같이 Studio에 로그인합니다.</li>
      <li>Studio에서 계정 정보로 이동하여 얻을 수 있는 계정 번호(Studio에서는 게시자 ID라고 함)가 필요합니다.
        <figure class="bcls-figure"><img class="bcls-image" alt="Account ID" src="/assets/images/getting-started/account-info-studio.png" />
          <figcaption class="bcls-caption--image">계정 ID</figcaption>
        </figure>
      </li>
      <li>Studio의 페이지를 연 상태에서 브라우저용 개발자 도구를 열고 콘솔로 이동하여 다음 코드를 붙여넣습니다.
        <pre class="line-numbers">
      <code class="language-javascript" translate="No">var cookiesArray = document.cookie.split(";"), cookiesObj = {}, i, tmpArray = [];
      for (i = 0; i &lt; cookiesArray.length; i++) {
          tmpArray = cookiesArray[i].split("=");
          if (tmpArray[0].indexOf('BC_TOKEN') &gt; -1) {
              cookiesObj.BC_TOKEN = tmpArray[1];
          }
      }
      window.prompt("BC_TOKEN:", cookiesObj.BC_TOKEN);</code></pre>

        <p>...리턴을 누릅니다.</p>
      </li>
      <li>다음을 포함하는 프롬프트가 표시되어야 합니다. <code translate="No">BC_TOKEN</code> :
        <figure class="bcls-figure"><img class="bcls-image" alt="BC_TOKEN" src="/assets/images/getting-started/prompt-with-token-safari.png" />
          <figcaption class="bcls-caption--image">BC_TOKEN</figcaption>
        </figure>
      </li>
      <li>BC_TOKEN이 있는 경우 다음으로 이동하십시오. <a href="#getCredentials">클라이언트 자격 증명 가져오기</a>부분; 어떤 이유로 이전 단계를 사용하여 BC_TOKEN을 얻지 못한 경우 콘솔로 이동하여 다음을 입력하십시오. <code translate="No">document.cookies</code> , Return 키를 누릅니다.</li>
      <li>페이지의 모든 쿠키는 세미콜론으로 구분된 목록으로 반환됩니다. 목록에서 BC_TOKEN 쿠키를 찾아 값을 복사합니다.
        <figure class="bcls-figure"><img class="bcls-image" alt="Get BC_TOKEN from Console" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/ingest-profiles-api/guides/get-access-token-console.png" />
          <figcaption class="bcls-caption--image">콘솔에서 BC_TOKEN 가져오기</figcaption>
        </figure>
      </li>
    </ol>

    <h3 id="getCredentials">얻다<code translate="No">client_credentials</code></h3>

    <p>이제 클라이언트 자격 증명을 검색하기 위해 OAuth 서비스를 호출할 준비가 되었습니다. 자격 증명을 요청하는 클라이언트 응용 프로그램 이름을 지정해야 합니다. 이름은 임의적이며 자격 증명의 용도를 추적하는 데 도움이 됩니다. 여기서는 "ingest-profiles-api-client"만 사용합니다. 또한 배열에서 액세스하려는 작업의 범위를 지정해야 하며 여기에서 사용할 것입니다. 사용 가능한 작업은 다음과 같습니다. <a href="/oauth/guides/api-operations-client-credentials-requests.html">클라이언트 자격 증명 요청에 대한 API 작업</a> . 아래 단계에서 Ingest Profiles API에 필요한 작업을 지정합니다.</p>

    <ol class="bcls-tasklist">
      <li>다음 curl 명령을 편집한 다음 명령줄에 붙여넣고 키를 누릅니다. <strong>반품</strong> . 다음 세 가지 값에 대해 특정 값을 제공해야 합니다.

        <ul>
          <li><em><strong>당신의 BC_TOKEN</strong></em></li>
          <li><em><strong>귀하의 자격 증명 이름</strong></em></li>
          <li><em><strong>귀하의 계정 ID</strong></em></li>
        </ul>

        <pre class="line-numbers">
      <code class="language-bash" translate="No">curl \
        --include \
        --header "Authorization: BC_TOKEN <em><strong>your_BC_TOKEN</strong></em>" \
        --data 'name=ingest-profiles-api-client&amp;maximum_scope=[{
            "identity": {
              "type": "video-cloud-account",
              "account-id": <em><strong>your_account_id</strong></em>
            },
            "operations": [
                  "video-cloud/ingest-profiles/profile/read",
                  "video-cloud/ingest-profiles/profile/write",
                  "video-cloud/ingest-profiles/account/read",
                  "video-cloud/ingest-profiles/account/write"
              ]
          }]' \
      https://oauth.brightcove.com/v4/client_credentials</code></pre>
      </li>
      <li>응답은 다음과 같아야 합니다(형식 추가됨).
        <pre class="line-numbers">
      <code class="language-json" translate="No">{
        "redirect_url": null,
        "maximum_scope": [
          {
            "identity": {
              "type": "video-cloud-account",
              "account-id": your_video_cloud_account_id
            },
            "operations": [
              "video-cloud/ingest-profiles/profile/write",
              "video-cloud/ingest-profiles/account/write",
              "video-cloud/ingest-profiles/profile/read",
              "video-cloud/ingest-profiles/account/read"
            ]
          }
        ],
        "name_html": "ingest-profiles-api-client",
        "issued_to": "your_email@host.com",
        "trusted": null,
        "expires_at": null,
        "issued_at": "2015-06-01T15:09:00Z",
        "name": "ingest-profiles-api-client",
        "description_html": null,
        "revoked": null,
        "type": "credential",
        "client_secret": "Ifckr6cWtxOh_NZnEVhKCgcqZaqoMcPuoJ-VGuivIE_psPoPUt2hGqUK15uPON3x3m748ElazZoOKPxbI3-4nQ",
        "description": null,
        "client_id": "da270d86-f3cd-4ee6-85b0-047df97a0db2",
        "issued_user": your_video_cloud_account_id
      }</code></pre>
      </li>
      <li>복사 및 저장<code translate="No">client_id</code>그리고<code translate="No">client_secret</code> , 필요할 때마다 필요하므로<code translate="No">access_token</code> .</li>
    </ol>
  </section>

  <section class="bcls-section" id="accessToken">
    <h2>OAuth API를 통한 액세스 토큰</h2>

    <p>클라이언트 자격 증명과 달리 액세스 토큰은 수명이 짧습니다. 현재는 5분 후에 만료됩니다. 각 API 요청에 대해 새 항목을 가져와야 합니다. 물론 가장 최근 액세스 토큰이 시간 초과되었는지 확인하기 위해 앱에 로직을 구축할 수 있지만 Ingest Profiles API에 대한 요청은 거의 없을 수 있으므로 그렇게 할 이유가 없습니다. .</p>

    <p>사실 API는 자주 사용하지 않을 수 있으므로 주변에 앱을 구축할 가치가 전혀 없을 수 있습니다. 대안은 다음을 사용하는 것입니다. <a href="/assets/downloads/api-tester.sh.zip">이 쉘 스크립트</a> Brightcove Learning Services가 구축한 것입니다. 클라이언트 ID와 비밀, API 요청 및 방법, 모든 요청 데이터를 입력할 수 있습니다. 그것은 다음을 얻는다<code translate="No">access_token</code> , API 요청을 하고 응답을 출력합니다. (셸 스크립트는 Mac MacOS 및 기타 Unix/Linux 시스템에 기본적으로 설치된 cURL을 사용합니다. <a href="https://general.support.brightcove.com/developer/concepts-set-curl.html"> Windows에 설치할 수 있습니다</a> .</p>

    <p>액세스 토큰을 검색하려면 다음을 위해 POST 요청을 합니다.</p>

    <pre class="line-numbers">
      <code class="language-http" translate="No">https://oauth.brightcove.com/v4/access_token</code></pre>

    <p>이 호출과 함께 다음 헤더를 전달해야 합니다.</p>

    <ul>
      <li><code translate="No">Content-Type: application/x-www-form-urlencoded</code></li>
      <li><code translate="No">Authorization: Basic {client_id}:{client_secret}</code></li>
    </ul>

    <p>전체<code translate="No">{client_id}:{client_secret}</code>문자열은 Base64로 인코딩되어야 합니다(curl은 문자열을 다음으로 전달하면 자동으로 Base64로 인코딩됩니다. <code translate="No">--user</code>신임장; 다른 언어에서는 Base64 인코딩을 직접 처리해야 합니다.</p>

    <p>또한 다음 키/값 쌍을 요청 본문이나 URL 매개변수로 보내야 합니다.</p>

    <pre class="line-numbers">
      <code class="language-bash" translate="No">grant_type=client_credentials</code></pre>

    <p>응답은 다음과 같습니다(가독성을 위해 여기에 잘 인쇄됨).</p>

    <pre class="line-numbers">
      <code class="language-json" translate="No">{
          "access_token": <strong>"ANB7xKhiUZmwltVd3f1odcHHM9VAwg02kwmLwtZwHv3SxGCOWLUf5W4G7X22PRjmR9StvFUqzpVZ1suOfyfOigdi-rnohxyEaSSuZceeLw_9OBW7fXldOG05HEgkeK3N-DBZZZyilodmjA1JWZHbgI3IU7Rmz5IPGyi-sDxHN3KlOr1BDZlLZpXPdFPwEyb6idq-z8AL-blKTSMtNI3_fz3oNBisfrHGUv5tXHoQT4B7FYcvdrap16gTOO7_wNt1zmgLJiUHvyxZgsgBchm_AhohVL-AYgcfCbCR0v7d2hgI4ag35pnZNeujDiBLfnCFcVMlqQGq8UEVZrmU9a8y4pVAGih_EImmghqmSrkxLPYZ800-vIWX-lw"</strong>,
          "token_type": "Bearer",
          "expires_in": 300
      }</code></pre>

    <p>NS <code translate="No">access_token</code>값은 전달해야 하는 것입니다. <code translate="No">Authorization</code>다음 형식의 API 호출이 있는 헤더:</p>

    <pre class="line-numbers">
      <code class="language-bash" translate="No">Authorization: Bearer {access_token}</code></pre>

    <p>NS <code translate="No">expired_in</code>값은 액세스 토큰이 유효한 시간(초)입니다.</p>

    <p>자세한 내용 및 샘플 코드는 다음을 참조하십시오. <a href="/oauth/guides/getting-access-tokens.html">액세스 토큰 받기</a></p>
  </section>
</article>