
---
title: "XDR API에서 재생 위치 가져오기"
description: "이 주제에서는 XDR(Cross-Device Resume) API에서 뷰어의 재생 위치를 검색하는 방법을 배웁니다."
parent: Getting started 
grandparent: Cross Device Resume API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">

  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Overview">개요</h2>
    <p>
      교차 기기 재개를 사용하면 시청자가 한 기기에서 동영상 시청을 시작하고 나중에 다른 기기에서 시청을 중단한 부분부터 계속 시청할 수 있습니다.
    </p>
    <p>
      XDR(Cross-Device Resume) API는 클라이언트 측 앱에서 호출할 수 없으므로 호출하고 재생 위치 값을 반환하려면 서버 측 프록시를 생성해야 합니다.
    </p>
    <aside class="bcls-aside bcls-aside--information">XDR 데이터의 제출과 API를 통한 해당 데이터의 가용성 사이에는 최대 30초의 지연이 있습니다.</aside>
  </section>

  <section class="bcls-section">
    <h2 id="Getting_playback_position">재생 위치 가져오기</h2>

    <p>다음을 사용하여 뷰어 재생 위치를 얻을 수 있습니다. <a href="/xdr/references/reference.html">교차 기기 이력서(XDR) API</a> .</p>

    <h3 id="Cross_Device_Resume_API">교차 기기 이력서(XDR) API</h3>
    <p>
      Cross-Device Resume API를 사용하면 특정 뷰어에 대한 모든 재생 헤드 위치 또는 특정 뷰어 및 비디오에 대한 모든 재생 헤드를 가져올 수 있습니다.
    </p>

    <h3>기본 URL</h3>
    <p>
      API의 기본 URL은 다음과 같습니다.
    </p>
    <pre><code class="language-http" translate="No">https://data.brightcove.com/v1/xdr</code></pre>

    <h3>계정 경로</h3>
    <p>
      모든 경우에 특정 Video Cloud 계정에 대한 요청이 이루어집니다. 따라서 기본 URL에 항상 계정이라는 용어와 계정 ID를 추가합니다.
    </p>
    <pre><code class="language-http" translate="No">https://data.brightcove.com/v1/xdr/accounts/{account_id}</code></pre>

    <h3>권한 부여</h3>
    <p>
      요청에 대한 액세스 토큰이 필요하며 Authorization 헤더에 있어야 합니다.
    </p>
    <pre><code class="language-http" translate="No">Authorization: Bearer {access_token}</code></pre>
    <p>
      액세스 토큰은 Brightcove OAuth 서비스에서 가져와야 하는 임시 OAuth2 액세스 토큰입니다. 클라이언트 자격 증명을 얻고 이를 사용하여 액세스 토큰을 검색하는 방법에 대한 자세한 내용은 다음을 참조하십시오. <a href="/oauth/getting-started/overview-oauth-api-v4.html">브라이트코브 OAuth 개요</a> .
    </p>

    <h3>권한</h3>
    <p>
      Cross-Device Resume API에 대한 요청은 다음에서 이루어져야 합니다. <a href="/oauth/index.html">클라이언트 자격 증명</a>다음 권한으로:
    </p>
    <ul>
      <li>
        <code translate="No">video-cloud/xdr/read</code>
      </li>
    </ul>
    <p><strong>이러한 권한은 아직 Studio 관리 UI에서 사용할 수 없습니다.</strong> 그들이 될 때까지 이것을 사용할 수 있습니다. <a href="/oauth/code-samples/oauth-api-sample-create-client-credentials.html"> Brightcove 학습 서비스 앱</a>클라이언트 자격 증명을 생성합니다. 꼭 확인만 하세요<code translate="No">video-cloud/xdr/read</code>자격 증명을 생성할 때 상자(원하는 만큼 다른 상자를 선택할 수 있음).</p>

    <h3>API 메소드</h3>
    <p>
      Cross-Device Resume API는 다음 요청을 지원합니다. 자세한 내용은<a href="/xdr/references/reference.html">교차 기기 이력서(XDR) API 참조</a> .
    </p>

    <h4>뷰어 재생 헤드 가져오기</h4>
    <p>
      이 요청은 뷰어에 대한 모든 재생 헤드를 가져옵니다.
    </p>
    <pre><code class="language-http" translate="No">GET /accounts/{accountID}/playheads/{viewer_id}</code></pre>
    <h5>응답 본문</h5>
    <p>
      응답 본문에는 비디오 및 재생 헤드 배열이 포함됩니다. 다음과 유사해야 합니다.
    </p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  &quot;account_id&quot;: &quot;1752604059001&quot;,
  &quot;viewer_id&quot;: &quot;viewer001&quot;,
  &quot;items&quot;: [
    {
    &quot;timestamp&quot;: 1589548991563000,
    &quot;video_id&quot;: &quot;6152436480001&quot;,
    &quot;playhead_seconds&quot;: 17
    },
    {
    &quot;timestamp&quot;: 1589548858719000,
    &quot;video_id&quot;: &quot;6152440604001&quot;,
    &quot;playhead_seconds&quot;: 3
    }
  ],
  &quot;size&quot;: 2
  }</code></pre>
    <br />

    <h4>뷰어 비디오 재생 헤드 가져오기</h4>
    <p>
      이 요청은 시청자와 특정 동영상에 대한 모든 재생 헤드를 가져옵니다.
    </p>
    <pre><code class="language-http" translate="No">GET /accounts/{account_id}/playheads/{viewer_id}/{video_id}</code></pre>
    <br />
    <aside class="bcls-aside bcls-aside--tip">
      <p>
        동영상 ID 목록을 포함할 수도 있습니다. (최대 = 100)
      </p>
      <pre><code class="language-http" translate="No">GET /accounts/{account_id}/playheads/{viewer_id}/{video_id},{video_id},...</code></pre>
    </aside>
    <h5>응답 본문</h5>
    <p>
      하나의 비디오 ID를 지정하면 응답 본문에 하나의 항목 개체가 포함됩니다. 둘 이상의 비디오 ID를 지정하면<code translate="No">items</code>배열에는 여러 항목 개체가 포함됩니다. 다음과 유사해야 합니다.
    </p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  &quot;account_id&quot;: &quot;1752604059001&quot;,
  &quot;viewer_id&quot;: &quot;viewer001&quot;,
  &quot;items&quot;: [
    {
    &quot;timestamp&quot;: 1589896539910000,
    &quot;video_id&quot;: &quot;6156696074001&quot;,
    &quot;playhead_seconds&quot;: 39
    }
  ],
  &quot;size&quot;: 1
  }</code></pre>
    <br />
  </section>

  <section class="bcls-section">
    <h2 id="Using_a_server_side_proxy">서버 측 프록시 사용</h2>
    <p>프록시는 클라이언트 측 애플리케이션과 REST API 사이에서 중개자 역할을 하는 서버 측 애플리케이션입니다. 다음은 유용한 링크입니다.</p>
    <ul>
      <li>
        개념에 대해서는 다음을 참조하십시오. <a href="https://player.support.brightcove.com/getting-started/learning-guide-using-rest-apis.html">학습 가이드: REST API 사용</a>
      </li>
      <li>
        XDR API에서 재생 헤드를 가져오기 위해 서버 측 프록시를 호출하는 웹 플레이어 샘플은 다음을 참조하십시오. <a href="https://github.com/BrightcoveLearning/cross-device-resume/blob/master/index.html"> github의 교차 기기 이력서 샘플</a> .
      </li>
    </ul>

  </section>

  <!-- <section class="bcls-section">
<h2 id="Limitations">Limitations</h2>

<p>Here are the limitation associated with the cross-device resume.</p>

<ul>
	<li>The current version of this plugin does not support thumbnails on mobile devices.</li>
</ul>
</section> -->

  <!-- <section class="bcls-section">
<h2 id="Changelog">Changelog</h2>

<p>See the <a href="https://player.support.brightcove.com/plugins/changelog/thumbnails-plugin-changelog.html">changelog here</a>.</p>
</section> -->
</article>