
---
title: '라이브 중복 사용'
description: '중복 그룹을 사용하면 중단 없이 안정적인 재생을 위해 자동 장애 조치를 통해 2개 이상의 라이브 작업을 단일 스트림으로 결합할 수 있습니다. 이 가이드는 중복 그룹 생성, 작업 추가, Live API를 사용하여 강제 장애 조치를 안내합니다. '
parent: Guides 
grandparent: Live API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">소개</h2>
    
    <p>Brightcove Live의 이중화 기능은 첫 번째 스트림이 작동을 멈춘 경우 Live가 자동으로 장애 조치할 백업 스트림을 생성하여 라이브 이벤트의 안정적인 성능을 보장하는 데 도움이 됩니다.</p>
    
    <p>Live API에 대한 모든 요청에는 다음 헤더가 필요합니다.</p>
    
    <table class="bcls-table">
      <caption class="bcls-caption--table">API 요청 헤더</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>열쇠</th>
          <th>값</th>
          <th>노트</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">X-API-KEY</code></td>
          <td>{your API Key}</td>
          <td>Brightcove Live 계정을 열 때 키가 제공되어야 합니다.</td>
        </tr>
        <tr>
          <td><code translate="No">Content-Type</code></td>
          <td>애플리케이션/json</td>
          <td>기술적으로, <code translate="No">content-type</code>헤더는 요청 본문을 포함하는 쓰기 요청에만 필요하지만 읽기 요청에는 해를 끼치지 않아야 합니다.</td>
        </tr>
      </tbody>
    </table>
    </section>
    
    <section class="bcls-section">
    <h2 id="Create_your_Live_jobs">라이브 작업 만들기</h2>
    
    <p>중복 설정의 경우 2개 이상의 Brightcove 라이브 작업을 생성해야 합니다. 작업의 유일한 요구 사항은<strong>같은</strong><code translate="No">output</code>설정. 이를 달성하는 가장 쉬운 방법은 원하는 출력 사양으로 하나의 작업을 만든 다음<code translate="No">copy_outputs_from_job</code>추가 작업을 생성하는 매개변수입니다.</p>
    
    <p>이러한 일자리가 창출될 수 있는 지역에는 제한이 없지만, 비교적 가까운 곳에 위치하는 것이 좋습니다.</p>
    
    <p>라이브 작업이 생성된 후 나중을 위해 작업 ID를 유지하십시오. 이러한 작업을 중복 그룹에 추가하는 데 사용할 요청 본문(아래 섹션 참조)은 다음과 같습니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">[
      {
        "job_id": "0b76bc73f92f46dc917bbe5061c0c633"
      },
      {
        "job_id": "0ae5a4a71dc54b3181af0f98ee407c27"
      }
    ]</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Create_the_redundant_group">중복 그룹 생성</h2>
    
    <p>중복 그룹을 생성하려면 다음을 제출해야 합니다. <code translate="No">POST</code>요청:</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups</code></pre>
    
    <p>다음은 샘플 요청 본문입니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "ad_insertion": true,
      "processing_regions": ["us-west-2"],
      "storage_regions": ["us-west-2", "us-east-1"],
      "label": "Test RG",
      "live_dvr_sliding_window_duration": 1800
    }</code></pre>
    
    <p>아래 표에는 요청 본문에 대한 전체 필드 목록이 포함되어 있습니다. 여러 경우에 이는 라이브 작업을 생성하는 데 사용되는 필드와 동일합니다. 참조<a href="/live-api/references/reference.html">라이브 API 참조</a>필드에 대한 자세한 내용은</p>
    
    <table class="bcls-table">
      <caption class="bcls-caption--table">중복 그룹 필드 생성</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>들</th>
          <th>유형</th>
          <th>필수의?</th>
          <th>설명</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">ad_insertion</code></td>
          <td>부울</td>
          <td>선택 과목</td>
          <td>이 스트림이 SSAI를 활성화해야 하는 경우 true로 설정합니다.</td>
        </tr>
        <tr>
          <td><code translate="No">add_cdns</code></td>
          <td>정렬</td>
          <td>선택 과목</td>
          <td>매니페스트 생성에 사용할 추가 CDN 공급자의 배열입니다. 제공된 각 CDN에 대해 매니페스트가 그에 따라 추가됩니다.</td>
        </tr>
        <tr>
          <td><code translate="No">drm</code></td>
          <td>물체</td>
          <td>선택 과목</td>
          <td>아직 지원되지 않음</td>
        </tr>
        <tr>
          <td><code translate="No">encryption</code></td>
          <td>물체</td>
          <td>선택 과목</td>
          <td>아직 지원되지 않음</td>
        </tr>
        <tr>
          <td><code translate="No">label</code></td>
          <td>끈</td>
          <td>필수의</td>
          <td>그룹을 식별하는 레이블</td>
        </tr>
        <tr>
          <td><code translate="No">live_dvr_sliding_window_duration</code></td>
          <td>정수</td>
          <td>선택 과목</td>
          <td></td>
        </tr>
        <tr>
          <td><code translate="No">notifications</code></td>
          <td>정렬</td>
          <td>선택 과목</td>
          <td>알림 대상 객체 또는 문자열의 배열</td>
        </tr>
        <tr>
          <td><code translate="No">processing_regions</code></td>
          <td>정렬</td>
          <td>필수의</td>
          <td>중복 그룹에 대한 처리 영역. 이것은 매니페스트를 생성할 AWS 리전을 결정합니다. storage_regions 및 라이브 작업이 생성되는 지역과 일치하는 것이 좋습니다.</td>
        </tr>
        <tr>
          <td><code translate="No">storage_regions</code></td>
          <td>정렬</td>
          <td>필수의</td>
          <td>저장 영역 미디어 청크 및 재생 목록은 S3에 업로드됩니다. 이것은 processing_regions 및 라이브 작업이 생성되는 지역과 일치하는 것이 좋습니다.</td>
        </tr>
        <tr>
          <td><code translate="No">videocloud</code></td>
          <td>물체</td>
          <td>선택 과목</td>
          <td>Video Cloud 고객은 라이브 스트림에 사용할 비디오를 만들 수 있습니다.</td>
        </tr>
      </tbody>
    </table>
    
    <p>응답은 다음과 같습니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "id": "481ff4cf0bf74956bc2ec6e126588080",
      "processing_regions": [
          {
              "region": "us-west-2",
              "probability": 1
          }
      ],
      "storage_regions": [
          "us-west-2",
          "us-east-1"
      ],
      "jobs": [],
      "state": "standby",
      "label": "Test RG",
      "live_dvr_sliding_window_duration": 1800,
      "status": {
          "us-west-2": null
      },
      "ad_insertion": true,
      "outputs": {
          "playback_url": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/playlist.m3u8",
          "playback_url_dvr": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/playlist_dvr.m3u8",
          "ssai_playback_urls": {
              "26f8470f61374e608e27af9c1b3f7ff0": {
                  "playback_url": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/26f8470f61374e608e27af9c1b3f7ff0/playlist_ssaiM.m3u8",
                  "playback_url_dvr": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/26f8470f61374e608e27af9c1b3f7ff0/playlist_dvr_ssaiM.m3u8",
                  "description": "House Ads - 864b84f712ae40bca1510a8052b34312",
                  "type": "ads"
              }
      }
    }</code></pre>
    </section>
    <section class="bcls-section">
      <h2 id="get_redundant_group">중복 그룹 가져오기</h2>
      <p>제출하여 모든 중복 그룹을 얻을 수 있습니다. <code translate="No">GET</code>요청:</p>
      <pre><code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups</code></pre>
      <p>다음을 사용하여 응답을 필터링할 수 있습니다. <code translate="No">state</code>매개변수 허용되는 값은 다음과 같습니다.</p>
      <ul>
        <li><code translate="No">cancelled</code></li>
        <li><code translate="No">cancelling</code></li>
        <li><code translate="No">deleting</code></li>
        <li><code translate="No">disconnected</code></li>
        <li><code translate="No">failed</code></li>
        <li><code translate="No">finished</code></li>
        <li><code translate="No">finishing</code></li>
        <li><code translate="No">processing</code></li>
        <li><code translate="No">standby</code></li>
        <li><code translate="No">waiting</code></li>
      </ul>
      <p>또 한있다<code translate="No">page_size</code>최대 1000까지의 정수로 설정할 수 있는 매개변수입니다. 기본값<code translate="No">page_size</code> 10입니다.</p>
      <p>응답은 다음과 같습니다.</p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  "redundant_groups": [
    {
      "id": "91c268a6ec5240d79a6004f4ccf0dc6f",
      "account_id": "a95ac581551b4478b27910e5675db1f8",
      "user_id": "c2691d4d039040be96c190a949d754a7",
      "processing_regions": [
        {
          "region": "us-west-2",
          "probability": 1
        }
      ],
      "storage_regions": [
        "us-west-2",
        "us-east-1"
      ],
      "jobs": [],
      "state": "standby",
      "created_at": 1594316624287,
      "updated_at": 1594316624287,
      "label": "Test Redundant Group",
      "live_dvr_sliding_window_duration": 86400,
      "status": {
        "us-west-2": null
      },
      "outputs": {
        "playback_url": "https://bcovlive-a.akamaihd.net/r91c268a6ec5240d79a6004f4ccf0dc6f/us-west-2/NA/playlist.m3u8",
        "playback_url_dvr": "https://bcovlive-a.akamaihd.net/r91c268a6ec5240d79a6004f4ccf0dc6f/us-west-2/NA/playlist_dvr.m3u8"
      }
    },
    {
      "id": "279ac36e4b4d48a3abbd3e1f98cd57aa",
      "account_id": "a95ac581551b4478b27910e5675db1f8",
      "user_id": "c2691d4d039040be96c190a949d754a7",
      "processing_regions": [
        {
          "region": "us-west-2",
          "probability": 1
        }
      ],
      "storage_regions": [
        "us-west-2",
        "us-east-1"
      ],
      "jobs": [],
      "state": "standby",
      "created_at": 1594323207015,
      "updated_at": 1594323207015,
      "label": "Test Redundant Group2",
      "live_dvr_sliding_window_duration": 86400,
      "status": {
        "us-west-2": null
      },
      "outputs": {
        "playback_url": "https://bcovlive-a.akamaihd.net/r279ac36e4b4d48a3abbd3e1f98cd57aa/us-west-2/NA/playlist.m3u8",
        "playback_url_dvr": "https://bcovlive-a.akamaihd.net/r279ac36e4b4d48a3abbd3e1f98cd57aa/us-west-2/NA/playlist_dvr.m3u8"
      }
    }
  ]
}</code></pre>
    </section>
    <section class="bcls-section">
    <h2 id="Add_live_jobs_to_the_redundant_group">중복 그룹에 라이브 작업 추가</h2>
    
    <p>중복 그룹을 생성한 후 다음을 보내 작업을 추가할 수 있습니다. <code translate="No">POST</code>요청:</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups/{redundant_group_id}/jobs</code></pre>
    
    <p>라이브 작업 ID는 다음과 같이 요청 본문에 지정됩니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">[
      {
        "job_id": "0b76bc73f92f46dc917bbe5061c0c633"
      },
      {
        "job_id": "0ae5a4a71dc54b3181af0f98ee407c27"
      }
    ]</code></pre>
    
    <p>작업 개체에 대한 몇 가지 추가 선택적 속성이 있습니다. 다음 표는 모든 필드를 보여줍니다.</p>
    
    <table class="bcls-table">
      <caption class="bcls-caption--table">라이브 작업 요청 필드 추가</caption>
      <thead class="bcls-table__head">
        <tr>
          <th>들</th>
          <th>유형</th>
          <th>필수의?</th>
          <th>설명</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">job_id</code></td>
          <td>끈</td>
          <td>필수의</td>
          <td>그룹에 추가할 작업의 ID입니다. 둘 다<code translate="No">playlist</code>또는<code translate="No">streams</code>지정, 모두<code translate="No">outputs</code>으로 사용될 것.</td>
        </tr>
        <tr>
          <td><code translate="No">playlist</code></td>
          <td>끈</td>
          <td>선택 과목</td>
          <td>스트림의 출력으로 사용할 재생 목록의 레이블입니다. 만약에<code translate="No">playlist</code>정의되고, <code translate="No">streams</code><strong> ~해야하다</strong> ~이다 <em>찾으시는 주소가 없습니다</em>.</td>
        </tr>
        <tr>
          <td><code translate="No">streams</code></td>
          <td>정렬</td>
          <td>선택 과목</td>
          <td>스트림의 출력으로 사용할 스트림 레이블 목록입니다. 만약에<code translate="No">streams</code>정의되고, <code translate="No">playlist</code><strong> ~해야하다</strong> ~이다 <em>찾으시는 주소가 없습니다</em>.</td>
        </tr>
      </tbody>
    </table>
    
    <p>이 요청에 대한 성공 응답은 중복 그룹 ID만 반환합니다.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Get_Redundant_Group_Status">중복 그룹 상태 가져오기</h2>
    
    <p>다음을 제출하여 중복 그룹의 상태를 확인할 수 있습니다. <code translate="No">GET</code>요청:</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups/{redundant_group_id}</code></pre>
    
    <p>응답은 다음과 같습니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "id": "481ff4cf0bf74956bc2ec6e126588080",
      "processing_regions": [
          {
              "region": "us-west-2",
              "probability": 1
          }
      ],
      "storage_regions": [
          "us-west-2",
          "us-east-1"
      ],
      "jobs": [
          {
              "job_id": "0b76bc73f92f46dc917bbe5061c0c633",
              "streams": [
                  "hls720p",
                  "hls540p",
                  "hls360p"
              ],
              "state": "processing"
          },
          {
              "job_id": "0ae5a4a71dc54b3181af0f98ee407c27",
              "streams": [
                  "hls720p",
                  "hls540p",
                  "hls360p"
              ],
              "state": "processing"
          }
      ],
      "state": "processing",
      "created_at": 1568057414849,
      "updated_at": 1568059153017,
      "label": "Test RG",
      "live_dvr_sliding_window_duration": 1800,
      "status": {
          "us-west-2": {
              "SwitchDrift": 0,
              "Ended": false,
              "OnAir": "0b76bc73f92f46dc917bbe5061c0c633",
              "Mode": "auto",
              "InManifest": true,
              "MediaSequence": 10,
              "Healthiness": 0,
              "Duration": 4,
              "DiscontinuitySequence": 1,
              "SourceChunk": {
                  "MediaSequence": 3639,
                  "Duration": 4,
                  "DiscontinuitySequence": 0,
                  "ProgramDateTime": "2019-09-09T19:59:36Z",
                  "LiveJobID": "0b76bc73f92f46dc917bbe5061c0c633"
              },
              "UpdatedAt": "2019-09-09T19:59:46Z",
              "ProgramDateTime": "2019-09-09T19:59:36Z"
          }
      },
      "ad_insertion": true,
      "outputs": {
          "playback_url": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/playlist.m3u8",
          "playback_url_dvr": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/playlist_dvr.m3u8",
          "ssai_playback_urls": {
              "26f8470f61374e608e27af9c1b3f7ff0": {
                  "playback_url": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/26f8470f61374e608e27af9c1b3f7ff0/playlist_ssaiM.m3u8",
                  "playback_url_dvr": "https://playback-qa.a-live.io/r481ff4cf0bf74956bc2ec6e126588080/us-west-2/NA/26f8470f61374e608e27af9c1b3f7ff0/playlist_dvr_ssaiM.m3u8",
                  "description": "House Ads - 864b84f712ae40bca1510a8052b34312",
                  "type": "ads"
              }
          }
      }
    }</code></pre>
    
    <p>중복 그룹의 각 처리 영역에는 고유한<code translate="No">status</code>개체, 지역별로 키가 지정됩니다. 이 예에서 볼 수 있습니다. <code translate="No">us_west_2</code>처리 영역, <code translate="No">on_air</code>직업은<code translate="No">0b76bc73f92f46dc917bbe5061c0c633</code> .</p>
    
    <p>참고로, <code translate="No">probability</code>처리 영역과 연결된 이 시점에서 항상<code translate="No">1</code> , 그러나 해당 지역을 사용할 재생 트래픽의 대략적인 백분율을 나타내는 0과 1 사이의 확률을 가진 여러 처리 영역을 허용하는 향후 개선을 위해 데이터 모델에 포함됩니다.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="add_cuepoints">수동으로 큐포인트 추가</h2>
    
    <p>중복으로 라이브 스트림에 수동으로 큐포인트를 추가하는 것은 일반 라이브 스트림에 큐포인트를 추가하는 것과 매우 유사합니다. 중복 그룹에 대해 이 작업을 수행하려면<code translate="No">POST</code>요청:</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups/{redundant_group_id}/cuepoint</code></pre>
    
    <p>다음과 같은 요청 본문을 포함합니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "ad_server_data": {
        "subject": "wildlife"
      },
      "duration": 30,
      "timecode": "09:23:18:05"
    }</code></pre>
    
    <p>생략하면<code translate="No">timecode</code>필드에 큐포인트가 즉시 삽입됩니다.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Force_a_Job_failover">작업 장애 조치 강제 실행</h2>
    
    <p>장애 조치는 Brightcove Live 시스템에 의해 자동으로 관리되며 사용자의 개입이 필요하지 않습니다. 그러나 어떤 이유로 인해 강제로 다른 작업으로 장애 조치를 수행하려는 경우 가장 간단한 방법은 해당 작업의 인코더를 중지하는 것입니다. <code translate="No">on_air</code>직업.</p>
    
    <p>API를 사용하여 장애 조치를 강제 실행할 수도 있습니다. <code translate="No">PUT</code>요청:</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups/{redundant_group_id}/switch</code></pre>
    
    <p>요청 본문은 다음과 같습니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "mode": "manual",
      "on_air": "0ae5a4a71dc54b3181af0f98ee407c27"
    }</code></pre>
    
    <p>여기, <code translate="No">mode</code>둘 중 하나가 될 것입니다<code translate="No">manual</code>또는<code translate="No">auto</code> (기본값) 및<code translate="No">on_air</code>중 하나의 값을 갖습니다. <strong>중고등 학년</strong>작업 ID.</p>
    
    <p>참고: 일단<code translate="No">manual</code>모드에서 자동 작업 장애 조치는<strong> ~ 아니다</strong>발생하다. 너<strong> ~해야하다</strong>모드를 다시 설정<code translate="No">auto</code>자동 장애 조치가 재개됩니다. 본문에서 모드를 생략하고 강제 쿼리 매개 변수를 추가하여 수동으로 전환하지 않고 On-Air Job을 변경할 수 있습니다. <code translate="No">?force=true</code>귀하의 요청에. 이렇게 하면 서비스가 강제로 작업을 전환하지만 문제가 감지되면 언제든지 다시 전환할 수 있습니다.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Ending_a_redundant_stream">중복 스트림 종료</h2>
    
    <p>중복 스트림을 종료하는 방법에는 두 가지가 있습니다. 설계상 중복 그룹은 암시적으로<a href="/live-api/guides/live-api-static-entry-points.html"> 9월</a>스트림. 중복 그룹을 다음 위치에 넣을 수 있습니다. <code translate="No">STANDBY</code>중복 그룹에서 모든 작업을 제거하여 모드.</p>
    
    <p>다음을 사용하여 이 작업을 수행하려면<code translate="No">DELETE</code>요청:</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups/{redundant_group_id}/jobs/{job_id}</code></pre>
    
    <p>제거하려는 각 작업에 대해 현재 작업을 제거하려면<code translate="No">on_air</code> , 당신은 추가해야합니다<code translate="No">?force-true</code>쿼리 매개변수.</p>
    
    <p>스트림을 종료하는 두 번째 방법은 다음을 전송하여 중복 그룹을 완전히 삭제하는 것입니다. <code translate="No">DELETE</code>요청:</p>
    
    <pre>
    <code class="language-http" translate="No">https://api.bcovlive.io/v1/redundantgroups/{redundant_group_id}</code></pre>
    </section>
    <section class="bcls-section">
      <h2 id="limitations">제한 사항</h2>
      <ul>
        <li>라이브 이중화<strong>할 수 없다</strong> DRM으로 보호되는 라이브 스트림과 함께 사용하십시오.</li>
      </ul>
    </section>
        </article>
    
 