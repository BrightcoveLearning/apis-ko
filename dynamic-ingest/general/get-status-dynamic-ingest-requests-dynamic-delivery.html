
---
title: '동적 수집 요청 상태 가져오기'
description: '당신이 사용할 때<span translate="No">동적 수집 API</span> Video Cloud 계정에 비디오를 추가하기 위해 가장 알고 싶은 것은 비디오가 처리된 시간과 변환이 성공적으로 생성되었는지 여부입니다. '
parent: 'General Information' 
grandparent: Dynamic Ingest API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="introduction">소개</h2>

    <p>이 문서는 상태를 요청하여 작업 상태를 추적하는 방법을 설명합니다. <span translate="No"> CMS API</span>또는 사용하여<span translate="No">동적 수집 API</span><a href="/dynamic-ingest/general/notifications-dynamic-delivery-video-cloud.html">알림</a> . 프로세스를 자동화하는 샘플 대시보드 앱도 제공합니다.</p>

    <p>수집 작업의 상태는 지난 7일 동안 제출된 작업에만 사용할 수 있습니다.</p>
    </section>

    <section class="bcls-section">
    <h2 id="requesting_status">요청 상태</h2>

    <p>다음을 사용하여 동적 수집 작업(수집, 교체 또는 재변환)의 상태를 가져옵니다. <a href="/cms/references/reference.html#operation/GetStatusOfIngestJob">이것들<span translate="No"> CMS API</span>끝점</a> - 이 끝점은 다음에서 작동합니다. <strong> Dynamic Delivery 작업만</strong> :</p>

    <h3>모든 작업에 대한 상태 가져오기</h3>

    <pre>
    <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/{account_id}/videos/{video_id}/ingest_jobs</code></pre>

    <p>응답은 다음과 같습니다.</p>

    <pre class="line-numbers">
     <code class="language-json" translate="No">[
      {
        "id": "ac49b1db-e6e1-477f-a2c1-70b9cd3107cb",
        "state": "finished",
        "account_id": "57838016001",
        "video_id": "5636411346001",
        "error_code": null,
        "error_message": null,
        "updated_at": "2017-11-07T13:56:51.505Z",
        "started_at": "2017-11-07T13:56:12.510Z",
        "priority": "normal",
        "submitted_at": "2017-11-07T13:56:12.435Z"
      },
      {
        "id": "10605652-8b6f-4f22-b190-01bd1938677b",
        "state": "processing",
        "account_id": "57838016001",
        "video_id": "5636411346001",
        "error_code": null,
        "error_message": null,
        "updated_at": null,
        "started_at": null,
        "priority": "low",
        "submitted_at": "2017-11-07T14:06:35.000Z"
      }
    ]</code></pre>

    <h3>특정 작업에 대한 상태 가져오기</h3>

    <pre>
    <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/{account_id}/videos/{video_id}/ingest_jobs/{job_id}</code></pre>

    <p>응답은 다음과 같습니다.</p>

    <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "id": "ac49b1db-e6e1-477f-a2c1-70b9cd3107cb",
        "state": "finished",
        "account_id": "57838016001",
        "video_id": "5636411346001",
        "error_code": null,
        "error_message": null,
        "updated_at": "2017-11-07T13:56:51.505Z",
        "started_at": "2017-11-07T13:56:12.510Z",
        "priority": "normal",
        "submitted_at": "2017-11-07T13:56:12.435Z"
      }</code></pre>

    <p>가능한 값<code translate="No">state</code>이다:</p>

    <ul>
      <li><code translate="No">processing</code> : 처리 중, 동영상이 아직 재생되지 않음</li>
      <li><code translate="No">publishing</code> : 하나 이상의 재생 가능한 변환이 생성되었으며 비디오를 재생할 준비가 되었습니다.</li>
      <li><code translate="No">published</code> : 하나 이상의 변환을 재생할 수 있습니다.</li>
      <li><code translate="No">finished</code> : 적어도 하나의 오디오/비디오 변환이 처리되었습니다.</li>
      <li><code translate="No">failed</code> : 처리 실패; 무엇이 잘못되었는지 파악할 수 없는 경우 지원팀에 문의하십시오.</li>
    </ul>
    </section>

    <section class="bcls-section" id="dataSources">
    <h2>알림 받기</h2>

    <p>위에서 설명한 요청 상태 방법이 작동하는 동안 특정 상태( <code translate="No">published</code>또는<code translate="No">finished</code> ), 원하는 답변을 얻을 때까지 상태를 계속 물어보는 것보다 이러한 이벤트가 발생할 때 Brightcove가 사용자에게 알리도록 하는 것이 좋습니다. 이제 알림 처리와 관련하여 앱을 빌드하는 방법을 살펴보겠습니다.</p>

    <p>Dynamic Ingest 알림은 비디오가 준비되었을 때 알아야 할 모든 정보를 제공합니다. 무엇을 찾아야 하는지...그리고 시스템에서 "준비"가 의미하는 바를 정의하기만 하면 됩니다. 이 다이어그램은 워크플로를 요약합니다.</p>

    <figure class="bcls-figure"><img class="bcls-image" alt="Ingest Status Workflow" src="/assets/images/dynamic-ingest/general/ingestion-status-architecture.svg" />
    <figcaption class="bcls-caption--image">수집 상태 워크플로</figcaption>
    </figure>
    </section>

    <section id="Dynamic_Ingest_Notifications" class="bcls-section">
    <h2>동적 수집 알림</h2>

    <p>Dynamic Ingest 알림 서비스는 여러 종류의 이벤트에 대한 알림을 보냅니다. 비디오가 "준비"되었는지 알아내는 데 가장 유용한 두 가지는 특정 변환이 생성되었음을 나타내는 것과 모든 처리가 완료되었음을 나타내는 것입니다. 다음은 각각의 예입니다.</p>

    <h3>동적 변환 생성 알림</h3>

    <figure class="bcls-figure">
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      <span class="bcls-highlight">"entity": "default/video3800",</span>
      <span class="bcls-highlight">"entityType": "DYNAMIC_RENDITION",</span>
      "version": "1",
      <span class="bcls-highlight">"action": "CREATE",</span>
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "dynamicRenditionId": "default\/video3800",
      "bitrate": 3804,
      "width": 1920,
      "height": 1080,
      "accountId": "57838016001",
      <span class="bcls-highlight">"status": "SUCCESS"</span>
    }
    </code>
    </pre>

    <figcaption class="bcls-caption--image">생성된 변환에 대한 알림</figcaption>
    </figure>

    <p>이 예에서 참고:</p>

    <ul>
      <li>NS <code translate="No">videoId </code>값을 통해 변환이 어떤 비디오인지 알 수 있습니다(여러 수집 작업이 실행 중인 경우).</li>
      <li>NS <code translate="No">entity </code>값은 생성된 동적 변환 유형입니다.</li>
      <li>만약<code translate="No">status </code>값이 "SUCCESS"이고 변환이 성공적으로 생성되었습니다.</li>
    </ul>

    <h3>처리 완료 알림</h3>

    <figure class="bcls-figure">
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "entity": "5660367449001",
      <span class="bcls-highlight">"entityType": "TITLE",</span>
      "version": "1",
      <span class="bcls-highlight">"action": "CREATE",</span>
      "jobId": "d3ef8751-2b88-4141-95d5-83f0393aca07",
      "videoId": "5660367449001",
      "accountId": "57838016001",
      <span class="bcls-highlight">"status": "SUCCESS"</span>
    }
    </code>
    </pre>

    <figcaption class="bcls-caption--image">처리 완료 알림</figcaption>
    </figure>

    <p>이 예에서 참고:</p>

    <ul>
      <li>NS <code translate="No">videoId </code>그리고<code translate="No">jobId </code>값을 통해 이것이 어떤 비디오인지 알 수 있습니다(여러 수집 작업이 실행 중인 경우).</li>
      <li>만약<code translate="No">status </code>값이 "SUCCESS"이고 비디오가 성공적으로 처리되었습니다.</li>
    </ul>

    <p>알림을 받으려면 "콜백" 필드를 포함해야 합니다. <span translate="No">동적 수집 API</span>하나 이상의 콜백 주소를 가리키는 요청:</p>

    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "master": {
      "url": "https://s3.amazonaws.com/bucket/mysourcevideo.mp4"
      }, "profile": "multi-platform-extended-static",
      <strong>"callbacks": ["http://host1/path1”, “http://host2/path2”]</strong>
    }
    </code>
    </pre>
    </section>

    <section class="bcls-section" id="sample">
    <h2>샘플 대시보드</h2>

    <p>이 섹션에서는 알림을 조합하여 Dynamic Ingest API용 간단한 대시보드를 구축하는 방법을 설명합니다. 알림 처리기에서 알림을 구문 분석합니다. <span translate="No">동적 수집 API</span>처리 완료 알림을 식별합니다. 그런 다음 JSON 파일의 각 비디오에 대한 객체 배열에 비디오 알림을 추가합니다. 대시보드 자체는 알림 데이터를 가져오기 위해 JSON 파일을 가져오는 HTML 페이지입니다. id를 사용하여 요청합니다. <a href="/cms/getting-started/overview-cms-api.html"> CMS API</a>동영상 메타데이터를 가져옵니다.</p>
    <!-- You can view the dashboard <a href="//solutions.brightcove.com/bcls/di-api/di-log.html">here</a> --><!-- <p>All the files for this app, along with instructions for setting it up for your account, are in <a href="https://github.com/BrightcoveLearning/dynamic-ingest-dashboard">this repository</a>.</p> -->

    <p>다음은 앱의 상위 수준 아키텍처입니다.</p>

    <figure class="bcls-figure"><img class="bcls-image" alt="Ingest Dashboard Architecture" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/general-information/di-status/ingestion-dashboard-architecture.svg" />
    <figcaption class="bcls-caption--image">수집 대시보드 아키텍처</figcaption>
    </figure>

    <h3>앱 부품</h3>

    <p>알림 핸들러는 PHP로 빌드되었습니다. - 완전한 알림 처리를 찾고 별도의 JavaScript 파일에 있는 배열에 비디오 ID를 추가합니다.</p>

    <pre class="line-numbers">
    <code class="language-php">&lt;?php // POST won't work for JSON data $problem = "No errors"; try { $json = file_get_contents('php://input'); $decoded = json_decode($json, true); } catch (Exception $e) { $problem = $e-&gt;getMessage(); echo $problem; } // full notification $notification = json_encode($decoded, JSON_PRETTY_PRINT); // Begin by extracting the useful parts of the notification // for Dynamic Delivery, look for 'videoId' if (isset($decoded["videoId"])) { $videoId = $decoded["videoId"]; } elseif (isset($decoded["entity"])) { $videoId = $decoded["entity"]; } else { $videoId = null; } if (isset($decoded["entityType"])) { $entityType = $decoded["entityType"]; } else { $entityType = null; } if (isset($decoded["status"])) { $status = $decoded["status"]; } else { $status = null; } if (isset($decoded["action"])) { $action = $decoded["action"]; } else { $action = null; } // if notification is for completed title, act if (($entityType == 'TITLE') &amp;&amp; ($action == 'CREATE')) { if (($status == 'SUCCESS') || ($status == 'FAILED')) { $newLine = "\nvideoIdArray.unshift(".$videoId.");"; // Tell PHP where it can find the log file and tell PHP to open it // and add the string we created earlier to it. $logFileLocation = "video-ids.js"; $fileHandle = fopen($logFileLocation, 'a') or die("-1"); chmod($logFileLocation, 0777); fwrite($fileHandle, $newLine); fclose($fileHandle); } } // save full notification for audit trail $logEntry = $notification.",\n"; $logFileLocation = "full-log.txt"; $fileHandle = fopen($logFileLocation, 'a') or die("-1"); chmod($logFileLocation, 0777); fwrite($fileHandle, $logEntry); fclose($fileHandle); echo "Dynamic Ingest callback app is running"; ?&gt; </code>
      </pre>

    <h4>JSON 파일:</h4>

    <p>JSON 파일은 처음에 빈 배열( <code translate="No">[] </code> ) - 알림 핸들러에 의해 데이터가 추가됩니다.</p>

    <h4>계기반</h4>

    <p>대시보드에는 알림 데이터 및 추가 비디오 데이터를 가져오기 위한 HTML 및 JavaScript가 포함되어 있습니다. <span translate="No"> CMS API</span>결과를 테이블에 씁니다.</p>

    <pre class="line-numbers">
      <code class="language-html" translate="No">&lt;!DOCTYPE html&gt;
      &lt;html&gt;
      &lt;head&gt;
        &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
        &lt;title&gt;Dynamic Ingest Log&lt;/title&gt;
        &lt;style&gt;
        body {
        font-family: sans-serif;
        margin: 5em;
        }
        .hide {
        display: none;
        }
        .show {
        display: block;
        }
        table {
        border-collapse: collapse;
        border: 1px #999999 solid;
        }
        th {
        background-color: #666666;
        color: #f5f5f5;
        padding: .5em;
        font-size: .7em;
        }
        td {
        border: 1px #999999 solid;
        font-size: .7em;
        padding: .5em
        }
        .hidden {
        display: none;
        }
        &lt;/style&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;h1&gt;Dynamic Ingest Log&lt;/h1&gt;
        &lt;h2&gt;Account: Brightcove Learning (57838016001)&lt;/h2&gt;
        &lt;p style="width:70%"&gt;
          Videos are listed in order of processing completion time, newest to oldest. The reference id (generated by the &lt;a href="./di-tester.html"&gt;Dynamic Ingest tester&lt;/a&gt;) is a combination of the date/time that the Dynamic Ingest job was initiated and the ingest profile that was used. You can add additional videos using the &lt;a href="./di-tester.html"&gt;Dynamic Ingest tester&lt;/a&gt;. New videos will appear in this log after processing is complete.
        &lt;/p&gt;
        &lt;p&gt;
          &lt;button id="clearLogBtn"&gt;Clear the log&lt;/button&gt;
        &lt;/p&gt;
        &lt;div id="videoLogBlock"&gt;
          &lt;table&gt;
            &lt;thead&gt;
              &lt;tr&gt;
                &lt;th&gt;Video ID&lt;/th&gt;
                &lt;th&gt;Name&lt;/th&gt;
                &lt;th&gt;Reference ID&lt;/th&gt;
                &lt;th&gt;Renditions Created&lt;/th&gt;
                &lt;th&gt;Processing Complete&lt;/th&gt;
              &lt;/tr&gt;
            &lt;/thead&gt;
            &lt;tbody id="logBody"&gt;&lt;/tbody&gt;
          &lt;/table&gt;
          &lt;h4 id="loadingMessage"&gt;Loading data, please wait...&lt;/h4&gt;
        &lt;/div&gt;
        &lt;script&gt;
        var BCLS = ( function (window, document) {
          // to use another account, set the account_id value appropriately
          // the client_id and client_secret will also need to be changed in the proxy
          var my_account_id = 57838016001,
            account_id = my_account_id,
            logBody = document.getElementById('logBody'),
            loadingMessage = document.getElementById('loadingMessage'),
            clearLogBtn = document.getElementById('clearLogBtn'),
            i = 0,
            iMax,
            // set the proxyURL to the location of the proxy app that makes Brightcove API requests
            proxyURL = './brightcove-learning-proxy.php',
            dataFileURL = './di.json',
            videoDataArray = [],
            requestOptions = {},
            currentVideo,
            currentIndex = 0;
          /**
          * tests for all the ways a variable might be undefined or not have a value
          * @param {*} x the variable to test
          * @return {Boolean} true if variable is defined and has a value
          */
          function isDefined(x) {
            if ( x === '' || x === null || x === undefined || x === NaN) {
            return false;
          }
          return true;
          }
          /**
          * find index of an object in array of objects
          * based on some property value
          *
          * @param {array} targetArray - array to search
          * @param {string} objProperty - object property to search
          * @param {string|number} value - value of the property to search for
          * @return {integer} index of first instance if found, otherwise returns null
          */
          function findObjectInArray(targetArray, objProperty, value) {
            var i, totalItems = targetArray.length, objFound = false;
            for (i = 0; i &lt; totalItems; i++) {
              if (targetArray[i][objProperty] === value) {
                objFound = true;
                return i;
              }
            }
            if (objFound === false) {
              return null;
            }
          }
          /**
          * factory for new video objects
          * @param {String} videoId the video id
          * @return {object} the new object
          */
          function makeVideoDataObject(videoId) {
            var obj = {};
            obj.id = videoId;
            obj.name = '';
            obj.reference_id = '';
            obj.renditions = 0;
            obj.complete = 'no';
            return obj;
          }
          /**
          * processes notification objects
          * creates a new object in the videoDataArray if it doesn't exist
          * and updates the videoDataArray object based on the notification
          * @param {Object} notificationObj the raw notification object
          */
          function processNotification(notificationObj) {
            var objIndex, videoObj;
            // if notification object contains a video id, find the corresponding
            // object in the videoDataArray or create it if it's not there
            if (isDefined(notificationObj) &amp;&amp; isDefined(notificationObj.videoId)) {
              objIndex = findObjectInArray(videoDataArray, 'id', notificationObj.videoId);
              // if not found, create one
              if (!isDefined(objIndex)) {
                videoObj = makeVideoDataObject(notificationObj.videoId);
                videoDataArray.push(videoObj);
                objIndex = videoDataArray.length - 1;
              }
              // now update properties based on what's in the notification
              if (notificationObj.entityType === 'DYNAMIC_RENDITION') {
                // increment the renditions account
                videoDataArray[objIndex].renditions++;
              }
            } else if (notificationObj.entityType === 'TITLE') {
              // overall processing notification - checked for SUCCESS / FAILED
              if (notificationObj.status === 'SUCCESS') {
                // mark complete
                videoDataArray[objIndex].complete = 'yes';
              } else if (notificationObj.status === 'FAILED') {
                // mark failed
                videoDataArray[objIndex].complete = 'failed';
              }
            }
            return;
          }
          /**
          * creates the dashboard table body
          */
          function writeReport() {
            var j,
              jMax = videoDataArray.length,
              item,
              t;
            loadingMessage.textContent = 'This page will refresh in 1 minute...';
            for (j = 0; j &lt; jMax; j++) {
              item = videoDataArray[j];
              if (item.id !== undefined) {
                logBody.innerHTML += '&lt;tr&gt;&lt;td&gt;' + item.id + '&lt;/td&gt;&lt;td&gt;' + item.name + '&lt;/td&gt;&lt;td&gt;' + item.reference_id + '&lt;/td&gt;&lt;td&gt;' + item.renditions + '&lt;/td&gt;&lt;td&gt;' + item.complete + '&lt;/td&gt;&lt;/tr&gt;';
              }
            }
            // set timeout for refresh
            t = window.setTimeout(init, 60000);
          };
          // function to set up the notification data request
          function setJSONRequestOptions() {
            submitRequest(null, dataFileURL, 'notificationData');
          }
          // function to set up video data request
          function setVideoRequestOptions() {
            requestOptions = {};
            requestOptions.url = 'https://cms.api.brightcove.com/v1/accounts/' + account_id + '/videos/' + currentVideo.id;
            submitRequest(requestOptions, proxyURL, 'video');
          }
          /**
          * initiates the <span translate="No">CMS API</span> requests
          */
          function getVideoInfo() {
            iMax = videoDataArray.length;
            if (currentIndex &lt; iMax) {
              currentVideo = videoDataArray[currentIndex];
              setVideoRequestOptions();
            } else {
              loadingMessage.innerHTML = 'No videos have been ingested - you can add some using the &lt;a href="./di-tester.html"&gt;Dynamic Ingest tester&lt;/a&gt;';
            }
          }
          /**
          * make the <span translate="No">CMS API</span> requests
          * @param {Object} options request options
          * @param (String) url URL to send request to
          * @param (String) type the request type
          */
          function submitRequest(options, url, type) {
            var httpRequest = new XMLHttpRequest(),
              requestData,
              responseData,
              videoDataObject,
              parsedData,
              getResponse = function () {
              try {
                if (httpRequest.readyState === 4) {
                  if (httpRequest.status === 200) {
                    responseData = httpRequest.responseText;
                    switch (type) {
                      case 'notificationData':
                          var k, kMax, dataArray;
                          dataArray = JSON.parse(responseData);
                          // process the notifications
                          kMax = dataArray.length;
                          for (k = 0; k &lt; kMax; k++) {
                          processNotification(dataArray[k]);
                        }
                        getVideoInfo();
                        break;
                      case 'video':
                        parsedData = JSON.parse(responseData);
                        videoDataArray[currentIndex].reference_id = parsedData.reference_id;
                        videoDataArray[currentIndex].name = parsedData.name;
                        currentIndex++;
                        if (currentIndex &lt; iMax) {
                        currentVideo = videoDataArray[currentIndex];
                        setVideoRequestOptions();
                        } else {
                        writeReport();
                        }
                        break;
                    }
                  } else {
                    console.log('There was a problem with the request. Request returned '', httpRequest.status);
                    if (type === 'video') {
                      setVideoRequestOptions();
                    } else {
                      setSourcesRequestOptions();
                    }
                  }
                }
              }
              catch(e) {
              console.log('Caught Exception: ', e);
              }
            };
            // notifications data is a special case
            if (type === 'notificationData') {
              // set response handler
              httpRequest.onreadystatechange = getResponse;
              // open the request
              httpRequest.open("GET", url);
              // set headers
              httpRequest.setRequestHeader("Content-Type", "application/json");
              // open and send request
              httpRequest.send();
            } else {
              // requests via proxy
              // set up request data
              requestData = "url=" + encodeURIComponent(options.url) + "&amp;requestType=GET";
              // set response handler
              httpRequest.onreadystatechange = getResponse;
              // open the request
              httpRequest.open("POST", url);
              // set headers
              httpRequest.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
              // open and send request
              httpRequest.send(requestData);
            }
          };
          // event handlers
          clearLogBtn.addEventListener('click', function () {
            if (window.confirm('Are you sure? This action cannot be undone!')) {
            // if your clear-log app resides in another location, change the URL
            window.location.href = 'clear-log.php';
            }
          });
          // get things started
          function init() {
            // clear table and the video data array
            logBody.innerHTML = "";
            videoDataArray = [];
            setJSONRequestOptions();
          }
          // kick off the app
          init();
        })(window, document);
        &lt;/script&gt;
      &lt;/body&gt;
    &lt;/html&gt;
    </code>
    </pre>

    <aside class="bcls-aside bcls-aside--tip">여기에서 디자인을 선택할 수 있습니다. 알림 처리기 또는 대시보드(또는 둘의 조합)를 사용하여 알림을 처리하고 유용한 정보를 추출할 수 있습니다. 이러한 종류의 앱에서는 알림 처리기를 단순하게 유지하여 알림 데이터를 전달하고 클라이언트 앱(이 경우 대시보드)이 정보 처리를 수행하도록 하는 것을 선호합니다. 이렇게 하려면 클라이언트에서 더 많은 처리가 필요하지만 알림 처리기를 더 많이 재사용할 수 있습니다.</aside>

    <h4>대리</h4>

    <pre class="line-numbers">
    <code class="language-php">&lt;?php /** * brightcove-learning-proxy.php - Brightcove RESTful API용 프록시 * 액세스 토큰을 가져오고, 요청하고, 응답을 반환합니다. * 액세스: * URL: https://solutions.brightcove.com/ bcls/bcls-proxy/bcsl-proxy.php * (*항상* HTTPS를 통해 프록시에 액세스해야 함) * 방법: 포스트 * * @포스트{string} url - API 요청의 URL * @post {string} [requestType=GET] - 요청에 대한 HTTP 메소드 * @post {string} [requestBody=null] - 쓰기 요청과 함께 보낼 JSON 데이터 * * @returns {string} $response - API에서 받은 JSON 응답 */ // CORS 인타이틀먼트 header("Access-Control-Allow-Origin: *"); // 액세스 토큰 요청 설정 $data = array(); // // 이 프록시를 다른 계정으로 사용하도록 아래 값을 변경합니다. // $client_id = "YOUR_CLIENT_ID_HERE"; $client_secret = "YOUR_CLIENT_SECRET_HERE"; $auth_string = " {$client_id} : {$client_secret} "; $request = "https://oauth.brightcove.com/v4/access_token?grant_type=client_credentials"; $ch = curl_init($request); curl_setopt_array($ch, array( CURLOPT_POST =&gt; TRUE, CURLOPT_RETURNTRANSFER =&gt; TRUE , CURLOPT_SSL_VERIFYPEER =&gt; FALSE, CURLOPT_USERPWD =&gt; $auth_string, CURLOPT_HTTPHEADER =&gt; array( '콘텐츠 유형: application/x-www-form-urlencoded', ), CURLOPT_POSTFIELDS =&gt; $data$)), $response = 컬 ); curl_close($ch); // ($response === FALSE)인 경우 오류 확인{ die(curl_error($ch)); } // 응답 디코딩 $responseData = json_decode($response, TRUE); $access_token = $responseData["access_token"]; // API 호출 설정 // 데이터 가져오기 if ($_POST["requestBody"]) { $data = json_decode($_POST["requestBody"]); }또 다른{ $data = array(); } // 요청 유형을 가져오거나 기본적으로 GET if ($_POST["requestType"]) { $method = $_POST["requestType"]; }또 다른{ $method = "GET"; } // 양식 데이터에서 URL 및 인증 정보를 가져옵니다. $request = $_POST["url"]; // http 요청을 보냅니다. $ch = curl_init($request); curl_setopt_array($ch, array( CURLOPT_CUSTOMREQUEST =&gt; $method, CURLOPT_RETURNTRANSFER =&gt; TRUE, CURLOPT_SSL_VERIFYPEER =&gt; FALSE, CURLOPT_HTTPHEADER =&gt; array( '콘텐츠 유형: 애플리케이션/json', "인증: 교군꾼{$access_token} ", ), CURLOPT_POSTFIELDS =&gt; json_encode($data) )); $response = curl_exec($ch); curl_close($ch); // ($response === FALSE)인 경우 오류 확인{ echo "Error: "+$response; die(curl_error($ch)); } // 응답 디코딩 // $responseData = json_decode($response, TRUE); // AJAX 호출자에게 응답을 반환합니다. echo $response; ?&gt;</code>
    </pre>

    <h4>로그 지우기</h4>

    <p>이 간단한 PHP 앱은 이전 비디오 ID를 지우고 JavaScript 파일을 원래 상태로 복원합니다.</p>

    <pre class="line-numbers">
    <code class="language-php">&lt;?php $logFileLocation = "di.json"; $freshContent = 배열(); $encodedContent = json_encode($freshContent); file_put_contents($logFileLocation, $encodedContent); echo '로그 파일 삭제됨 - &lt;a href="di-log.html"&gt;대시보드로 돌아가기&lt;/a&gt;'; ?&gt;</code>
    </pre>
    </section>
    </article>