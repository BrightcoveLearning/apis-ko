
---
title: '동적 전달 수집 우선 순위 큐'
description: '이 주제에서는 우선순위 설정을 사용하여 우선순위가 높은 동영상의 처리 시간을 최적화하는 방법에 대해 설명합니다. '
parent: 'Ingest Guides' 
grandparent: Dynamic Ingest API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="Introduction">소개</h2>
    
    <p>Dynamic Delivery Ingest에는 이제<strong>우선 순위 대기열</strong>게시자가 원하는 우선 순위 설정으로 수집 작업을 제출하여 작업이 처리되는 순서와 적시성에 영향을 줄 수 있습니다.</p>
    
    <aside>
    <p>우선 순위 대기열은 다음이 활성화된 계정에만 적용됩니다. <a href="/dynamic-ingest/getting-started/overview-dynamic-ingest-api-dynamic-delivery.html">동적 전달</a> . 레거시 수집 시스템을 사용하는 계정에서는 사용할 수 없습니다.</p>
    
    </aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="how-dynamic-delivery-ingestion-currently-works">Dynamic Delivery 수집 대기열의 작동 방식</h2>
    
    <p>일반 우선 순위 대기열에서 Dynamic Delivery Ingestion은 계정당 100개의 활성 작업으로 제한됩니다. 이 제한을 초과하면 수집 시스템이 나중에 처리하기 위해 추가 요청을 대기열에 넣습니다. 대기열 크기에는 별도의 제한이 있으며 이 제한에 도달하면 고객에게 다시 수집 요청을 거부합니다(429 오류 코드 포함). 작업이 완료되면 용량이 확보되고 대기열에 있는 작업이 수신된 순서대로 한 번에 하나씩 선택되어 처리됩니다.</p>
    
    <p>의 비디오 상태<span translate="No"> CMS API</span>작업이 대기열에 있음을 반영하지 않습니다. 상태는 다음과 같습니다. <code translate="No">pending </code>작업이 처리 중인지 또는 대기 중인지 여부.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="How_Priority_Queueing_affects_ingestion">우선 순위 큐가 수집에 미치는 영향</h2>
    
    <p>우선 순위 큐잉을 통해 사용자는 다음을 추가할 수 있습니다. <code translate="No">priority </code>수집 요청에 플래그를 지정합니다. 허용되는 값<code translate="No">priority </code> ~이다<code translate="No">low </code>그리고<code translate="No">normal </code> . 다른 값을 사용하면 422 오류 코드와 함께 요청이 거부됩니다. 사용자가 우선 순위를 지정하지 않으면 기본값은<code translate="No">normal </code>사용. 다음은 우선 순위 대기열이 대기열에서 작업이 처리되는 방식을 변경하는 방법에 대한 간략한 설명입니다.</p>
    
    <ol>
      <li>대기 중인 작업이 없고 작업을 실행할 수 있는 용량이 있는 경우 작업이 즉시 실행됩니다. 이는 낮은 우선순위 작업과 보통 우선순위 작업 모두에 적용됩니다.</li>
      <li>다른 작업을 실행할 용량이 없으면 작업이 대기열에 추가됩니다.</li>
      <li>대기열에 작업이 있으면 새 작업도 대기열에 추가됩니다. 즉, 대기열에 있는 작업보다 먼저 새 작업을 시작할 수 없습니다.</li>
      <li>다른 작업을 실행할 수 있는 용량이 있고 대기열에 있는 작업이 있는 경우 대기열에서 작업을 가져옵니다.
      <ul>
        <li>대기열에 일반 우선 순위 작업이 있는 경우 가장 오래된 일반 우선 순위 작업이 선택됩니다.</li>
        <li>대기열에 일반 우선 순위 작업이 없으면 가장 오래된 우선 순위가 낮은 작업이 선택됩니다.</li>
      </ul>
      </li>
      <li>일반 및 낮은 우선순위 작업이 처리됩니다. <strong>같은</strong>실행할 수 있는 작업의 수입니다. 우선 순위에 관계없이 처리되는 총 작업 수는 계정당 100개로 제한됩니다.</li>
      <li>있다<strong>분리 된</strong>대기열에 넣을 수 있는 일반 및 낮은 우선 순위 작업 수에 대한 할당량입니다.</li>
    </ol>
    </section>
    
    <section class="bcls-section">
    <h2 id="What_to_watch_out_for">주의해야 할 사항</h2>
    
    <h3>작업 제출 후 변환 세부 정보가 변경됨</h3>
    
    <p>Dynamic Ingest 작업을 생성할 때 지정된 수집 프로필은 Dynamic Ingest 시스템에 의해 복사되고 해당 프로필은<strong>복사</strong>작업이 제출된 이후 프로필이 수정된 경우에도 처리에 사용됩니다.</p>
    
    <p>경우에 따라 상당한 시간 동안 처리가 지연될 수 있는 우선순위가 낮은 작업의 경우, <strong>해당 프로필에 지정된 변환을 수정할 수 있음</strong>작업이 실제로 처리되기 전에 이 경우 비디오를 처리하는 데 사용된 변환은<strong>새로운</strong>이러한 변환의 정의; 작업이 제출된 시점의 변환 정의가 아닙니다.</p>
    
    <p>원하는 경우<strong>보장하다</strong>당신은 변환을 얻을<strong>작업이 제출될 때 지정된 대로</strong> , 변환의 복사본을 만들고 복사된 변환을 참조하는 새 프로필을 만든 다음 수집 프로세스를 시작해야 합니다. (비디오가 이미 Video Cloud에 저장된 경우 업데이트된 프로필로 비디오를 다시 코드 변환할 수 있습니다. 원래 작업에 대한 처리가 완료될 때까지 비디오를 다시 트랜스코딩할 수 없습니다.)</p>
    
    <h3>소스 파일 업로드</h3>
    
    <p>소스 파일 업로드는 24시간 후에 해당 S3 버킷의 파일을 삭제합니다. 우선 순위가 낮은 작업은 경우에 따라 24시간 이상 처리되지 않을 수 있으므로 파일이 이미 삭제되었을 수 있으며 이 경우 처리가 실패합니다. <strong>소스 파일 업로드에 낮은 우선 순위의 수집을 권장하지 않습니다.</strong> .</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="sample_request">샘플 요청</h2>
    
    <p>다음은 우선 순위가 낮은 수집 요청 본문의 샘플입니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
    "master": {
    "url": "http://host/master.mp4"
    },
    "profile": "multi-platform-extended-static",
    <span class="bcls-highlight">"priority": "low"</span>,
    "callbacks": [
    "http://mydomain.com/di-callbacks.php"
    ]
    }
    </code>
    </pre>
    
    <p>다음은 일반적인 우선 순위 작업의 샘플입니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
    "master": {
    "url": "http://host/master.mp4"
    },
    "profile": "multi-platform-extended-static",
    <span class="bcls-highlight">"priority": "normal"</span>,
    "callbacks": [
    "http://mydomain.com/di-callbacks.php"
    ]
    }
    </code>
    </pre>
    
    <p>참고로 이후<code translate="No">normal </code>기본값인 경우 이전 요청은 다음 요청과 정확히 동일한 방식으로 처리됩니다.</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
    "master": {
    "url": "http://host/master.mp4"
    },
    "profile": "multi-platform-extended-static",
    "callbacks": [
    "http://mydomain.com/di-callbacks.php"
    ]
    }
    </code>
    </pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Using_the_priority_queue">우선 순위 큐 사용</h2>
    
    <p>이전 섹션의 마지막 예에서<strong> ~ 아니다</strong>사용<code translate="No">priority </code>인제스트 작업 필드에 입력하면 이전과 동일하게 계속 처리됩니다.</p>
    
    <p>의 추가<code translate="No">priority </code>필드는 다음과 같은 경우에 주로 도움이 됩니다.</p>
    
    <ol>
      <li>상당히 많은 수의 동영상을 수집합니다.</li>
      <li>얻는 것이 중요하다 <em>일부</em> 귀하의 동영상을 가능한 한 빨리 온라인에 게시하고 다른 동영상을 게시해야 할 긴급성은 없습니다(콘텐츠가 덜 중요하거나 어쨌든 즉시 동영상을 게시할 계획이 없기 때문에).</li>
      <li>재트랜스코딩하고 싶은 동영상이 있지만 새로운 콘텐츠의 처리 속도를 늦추고 싶지는 않습니다.</li>
    </ol>
    </section>
    
    <section class="bcls-section">
    <h2 id="How_low_priority_queue_works">낮은 우선 순위 대기열의 작동 방식</h2>
    
    <p>이 섹션에서는 우선 순위가 낮은 대기열이 작동하는 방식을 설명합니다.</p>
    
    <p>정상 또는 낮은 우선순위 작업이 언제 시작될지 보장할 수 없습니다. 그러나 일반 우선 순위 작업은 항상 낮은 우선 순위 작업보다 먼저 시작됩니다.</p>
    
    <p>정상 우선 순위 작업을 안정적이고 빠르게 제출하는 경우 우선 순위가 낮은 작업이 시작되기까지 상당한 시간이 걸릴 수 있습니다.</p>
    
    <p>우선순위가 낮은 작업은 시작하는 데 시간이 더 오래 걸리고 동일한 비디오에 대해 일반 우선순위보다 처리하는 데 더 오래 걸릴 수 있습니다.</p>
    </section>
    </article>
 