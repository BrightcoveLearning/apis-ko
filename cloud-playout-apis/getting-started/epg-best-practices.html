EPG API:
---
title: ' 모범 사례'
parent: Getting Started 
grandparent: Cloud Playout APIs
description: This topic provides best practices for working with the Cloud Playout EPG API.
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
	<summary>{{page.description}}</summary>
	<section class="bcls-section">
		<h2 id="Introduction">소개</h2>
		<p>EPG API는 웹 페이지 또는 앱에 프로그램 정보를 표시하는 데 유용한 Cloud Playout 채널용 XML 전자 프로그래밍 가이드를 반환합니다. 이 항목에서는 API 작동 방식에 대한 몇 가지 설명과 API를 가장 효과적으로 사용하기 위한 권장 사항을 제공합니다.</p>
	</section>
	<section class="bcls-section">
		<h2 id="channel_states">채널 상태</h2>
		<h3>활성 상태</h3>
		<ul>
			<li><code translate="no">초안</code> (미래 채널의 예정된 시작 시간/종료 시간)</li>
			<li><code translate="no">일정 변경</code></li>
			<li><code translate="no">예정</code></li>
			<li><code translate="no">시작 중</code></li>
			<li>START_ERROR<code translate="no"></code></li>
			<li><code translate="no">만들기</code></li>
			<li>CREATE_ERROR<code translate="no"></code></li>
			<li><code translate="no">달리기</code></li>
		</ul>
		<h3>비활성 상태</h3>
		<ul>
			<li><code translate="no">초안</code> (중지된 채널은 다시 초안 상태로 들어갑니다)</li>
			<li><code translate="no">게으른</code></li>
			<li><code translate="no">멎는</code></li>
			<li>STOP_ERROR<code translate="no"></code></li>
			<li>START_ERROR<code translate="no"></code></li>
			<li><code translate="no">삭제 중</code> (EPG 레코드가 없을 것입니다 - 이로 인해 EPG API가 500 응답 코드를 반환할 수 있습니다)</li>
			<li><code translate="no">DELETE_ERROR</code> (EPG 레코드가 없을 것입니다 - 이로 인해 EPG API가 500 응답 코드를 반환할 수 있습니다)</li>
		</ul>
	</section>
	<section class="bcls-section">
		<h2 id="EPG_Query_Recommendation">EPG 쿼리 추천</h2>
		<ul>
			<li>기본적으로 EPG 쿼리(쿼리 매개변수 없이<code translate="No">start</code> , <code translate="No">stop</code> , 또는<code translate="No"></code>한계</code>제공됨)은 100개의 EPG 레코드(또는 100개 미만인 경우 모든 레코드)를 반환합니다. 반환된 숫자는 에서 설정하여 변경할 수 있습니다. <code translate="no">한계</code>매개변수.</li>
			<li>최대 14일 동안의 레코드는 명시적인 시작 시간과 종료 시간을 제공하고 EPG 쿼리에 더 높은 제한 값을 제공하여 계속 제공됩니다.</li>
			<li>처리 시간은 처리할 레코드의 수에 따라 기하급수적으로 증가하므로 페이지를 매긴 EPG 레코드 쿼리 방법을 사용하는 것이 좋습니다(참조<a href="#pagination">쪽수 매기기</a>아래) 대량 데이터를 가져오기 위한 것입니다.</li>
		</ul>
	</section>
	<section class="bcls-section">
		<h2 id="pagination">쪽수 매기기</h2>
		<p>다음은 최상의 성능을 얻기 위해 많은 수의 레코드에 대한 쿼리에 페이지를 매길 것을 권장하는 방법입니다.</p>
		<ol class="bcls-tasklist-restart">
			<li>
				쿼리 매개변수를 사용하지 않는 요청으로 시작합니다.
<pre><code class="language-http" translate="No">https://sm.cloudplayout.brightcove.com/accounts/<span class="bcls-input">{account_id}</span>/channels/<span class="bcls-input">{channel_id}</span>/epg
				</code></pre>
				<ul>
					<li>채널이 실행 중이 아니면 채널 시작 시간 또는 현재 시간 중 더 늦은 시간부터 100개의 레코드를 반환합니다.</li>
					<li>채널이 실행 중이면 100개의 레코드는 과거 및 미래 프로그램의 50/50 혼합이 됩니다.</li>
				</ul>
			</li>
			<li>추가 데이터 페이지의 경우 다음과 함께 요청을 제출하십시오. <code translate="no">시작</code>매개변수 세트는 다음과 같습니다. <code translate="no">멈추다</code>속성 값<code translate="no">프로그램</code>이전 응답에서 반환된 마지막 레코드의 태그 - <strong>플러스 1초</strong> .</li>
	</ol>
	<h3>예시</h3>
	<p>첫 번째 쿼리가 다음과 같은 응답을 반환한다고 가정해 보겠습니다.</p>
<pre class="line-numbers"><code class="language-xml">&lt;tv&gt; ... &lt;프로그램 채널="channel_id" start="20210228000457" stop=" <span class="bcls-highlight"> 20210228001457</span> "&gt; &lt;title&gt;라이브&lt;/title&gt; &lt;desc&gt;라이브&lt;/desc&gt; &lt;length units="seconds"&gt;600.0&lt;/length&gt; &lt;icon src="https://img.brightcove.com/cloudplayout/live- icon.jpg "폭 =" "높이 =" "/&gt; &lt;카테고리&gt; 라이브 &lt;/ 카테고리&gt; &lt;키워드&gt; eyJ2aWRlb19pZCI6IjcwNzAxMjE2NDgyMjAyIiwib3JkZXIiOjMsInRhZ3MiOiJyb21hbmNlIiwiY3VzdG9tX21ldGFkYXRhIjp7InJlZ2lvbiI6ImFzaWEiLCJzb25ncyI6NX19 &lt;/ 키워드&gt; &lt;/ 프로그램&gt; &lt;/ TV&gt;</code></pre>
		<p>강조 표시된<code translate="no">멈추다</code>마지막 레코드의 값은 형식의 타임스탬프입니다. <code translate="no"> YYYYMMDDhhmmss</code> , 따라서 ISO 8601 형식: <code translate="No">2021-02-28 00:14:57</code> .</p>
		<p>이 값에 1초를 더하면<code translate="No">2021-02-28 00:14:58</code> .</p>
		<p>다음 요청에 대한 쿼리 매개변수는 다음과 같습니다. <code translate="no"> start=2021-02-28%2000%3A14%3A57 - 시작(및<code translate="no">끝</code> ) 매개변수는 URI로 인코딩되어야 합니다.</code></p>
		<p>모든 레코드를 검색하려면 증가하는 요청을 계속 보내십시오. <code translate="no">시작</code> "요청된 시간 창에서 채널이 실행 중인 상태가 아닙니다"라는 메시지와 함께 HTTP 422 응답을 받을 때까지 값을 유지합니다.</p>
	</section>
	<section class="bcls-section">
		<h2 id="Additional_notes">EPG 응답 동작에 대한 추가 참고 사항</h2>
		<p>EPG API 작동 방식에 대한 다음 참고 사항은 원하는 응답을 얻을 요청을 생성하는 데 도움을 주기 위한 것입니다.</p>
		<ul>
			<li>EPG는 채널의 현재 상태를 기반으로 동적으로 구성되므로 채널이 다음을 제외한 활성 상태인 경우<code translate="No">RUNNING</code> , 그러면 EPG는 예정된 채널 시작 시간부터 미래 데이터를 생성합니다.</li>
			<li>채널이 있는 경우<code translate="No">RUNNING</code>상태에서 쿼리 매개변수 없이 호출된 EPG는 과거 및 미래 일정 데이터의 혼합(50% 분할 - 100으로 제한, 최대 50개의 과거 레코드 및 50개의 미래 레코드 생성)을 제공합니다.</li>
			<li>채널을 중지하거나 삭제하면<code translate="No">INACTIVE</code>상태; 채널이 실행을 완료했기 때문에 향후 EPG 레코드를 사용할 수 없습니다.
				<ul>
					<li>이러한 경우 EPG는 빈 데이터 세트 또는 422 오류 코드를 반환합니다.</li>
					<li>비활성 상태에 대한 기록 데이터가 필요한 경우 EPG 요청에는 쿼리 매개변수에 과거 시작/종료 시간이 있어야 합니다.</li>
				</ul>
			</li>
			<li>EPG 요청에 둘 다 있는 경우<code translate="No">end</code>시간과<code translate="No">limit</code> , <code translate="No">limit</code>우선권이 주어지며 많은 레코드가 생성됩니다. 이 경우 지정된 종료 시간 이후에 레코드를 수신할 수 있습니다.</li>
			<li>NS <code translate="No">start</code> / <code translate="No">end</code>기간은 14일을 초과할 수 없습니다. <code translate="No">start</code>과거 EPG를 검색하기 위해 현재 날짜-시간보다 14일 빠를 수 있습니다. 현재 날짜-시간 이후 최대 14일 동안 미래 EPG 데이터를 쿼리할 수도 있습니다.</li>
			<li>제공된 종료 시간과 시작 시간의 차이가 14일보다 큰 경우 API는 요청 시점부터 예정된 채널 중지 시간까지 또는 14일 중 더 빠른 날짜까지의 14일 동안만 일정 데이터를 생성합니다.</li>
			<li>둘 다<code translate="No">start</code>그리고<code translate="No">end</code>시간대 오프셋이 있거나 없는 날짜-시간 값을 허용할 수 있습니다. 시간대 오프셋이 포함되지 않은 경우 UTC로 간주됩니다.</li>
			<li>둘 다<code translate="No">start</code>그리고<code translate="No">end</code>값은 URI로 인코딩되어야 합니다.</li>
		</ul>
		<h3>EPG API가 422 오류 코드를 반환하는 이유</h3>
		<ul>
			<li>EPG 시작 시간은 채널 시작 또는 현재 시간 중 더 큰 날짜로부터 14일 이후일 수 없습니다.</li>
			<li>EPG 시작 시간은 현재 시간보다 14일 이전이어야 합니다.</li>
			<li>EPG 간격은 14일 이하여야 합니다(시작 시간 및 종료 시간은 14일 제한 이내).</li>
			<li>채널은 요청된 시간 창에서 실행 상태에 있을 것입니다(예약된 채널 중지 시간을 초과한 시작 시간으로 EPG 요청됨) 시작 시간을 제공해야 하거나 종료 시간보다 작아야 합니다(시작 시간 &lt; 종료 시간).</li>
		</ul>
	</section>
</article>