
---
title: '클립 관리'
description: '이 항목에서는 CMS API를 사용하여 비디오 클립을 관리하는 방법을 배웁니다. '
parent: Managing Videos/Assets 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">소개</h2>
    <p>클립은<a href="https://social.support.brightcove.com/general/creating-video-clip-using-brightcove-social.html">브라이트코브 소셜</a>및 기타 도구. Brightcove Social을 통해 공유하기 위해 클립을 만든 경우 해당 변환을 제거하여 관리되는 스토리지를 줄이거나 비활성화하여 비디오 워크플로에 표시되지 않도록 할 수 있습니다.</p>
  </section>

  <section id="findingClips" class="bcls-section">
  <h2>클립 찾기</h2>
  
  <p>에 대한 특별한 검색어가 있습니다. <span translate="No"> CMS API</span>계정에서 클립을 찾는 데 도움이 되는 방법:</p>
  
  <ul>
    <li><code translate="No">q=%2Bis_clip:true</code> - 클립만 반환</li>
    <li><code translate="No">q=%2Dis_clip:true</code> - 클립이 아닌 것만 반환</li>
    <li><code translate="No">q=%2Bis_clip:false</code> - 클립이 아닌 것만 반환(이전 항목과 기능적으로 동일)</li>
    <li><code translate="No">q=%2Bclip_source_video_id: <span class="bcls-input">video_id</span> </code> - 지정된 비디오에서 생성된 클립을 반환합니다.</li>
  </ul>
  
  <aside class="bcls-aside bcls-aside--information">노트:
  <ul>
    <li><code translate="No">%2B</code> URI로 인코딩된<code translate="No">+</code>징후</li>
    <li><code translate="No">%2D</code> URI로 인코딩된<code translate="No">-</code>징후</li>
    <li>기억<code translate="No">limit</code>그리고<code translate="No">offset</code>적용: 기본적으로<span translate="No"> CMS API</span>쿼리는 10개의 동영상(최대: 제한=100)을 반환하므로 계정에 클립이 많은 경우 적절한<code translate="No">limit</code>그리고<code translate="No">offset</code>매개변수를 사용하여 모두 찾을 수 있습니다. GET 요청을 보내어 모든 클립의 수를 얻을 수 있습니다. <span translate="No"> CMS API</span>끝점을 계산합니다. <code translate="No">.../accounts/account_id/ <span class="bcls-highlight">counts</span>/videos/ <span class="bcls-highlight">q=%2Bis_clip:true</span> </code></li>
  </ul>
  </aside>
  
  <h3>견본</h3>
  
  <h4>요구</h4>
  
  <pre class="line-numbers">
  <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/57838016001/videos?<span class="bcls-highlight">q=%2Bis_clip:true</span></code></pre>
  
  <h4>응답</h4>
  
  <pre class="line-numbers">
  <code class="language-json" translate="No">[
    {
      "id": "5235328819001",
      "account_id": "57838016001",
      "ad_keys": null,
      <span class="bcls-highlight">"clip_source_video_id": "4752143002001",</span>
      "complete": true,
      "created_at": "2016-12-04T17:06:20.562Z",
      "cue_points": [],
      "custom_fields": {
        "subject": "Birds"
      },
      "delivery_type": "static_origin",
      "description": null,
      "digital_master_id": "5235339325001",
      "duration": 24042,
      "economics": "AD_SUPPORTED",
      "folder_id": null,
      "geo": null,
      "has_digital_master": true,
      "images": {
        "thumbnail": {
          "asset_id": "5235341448001",
          "remote": false,
          "src": "http://brightcove.vo.llnwd.net/v1/unsecured/media/57838016001/201612/2025/57838016001_5235341448001_5235328819001-th.jpg?pubId=57838016001&amp;videoId=5235328819001",
          "sources": [
            {
              "src": "http://brightcove.vo.llnwd.net/v1/unsecured/media/57838016001/201612/2025/57838016001_5235341448001_5235328819001-th.jpg?pubId=57838016001&amp;videoId=5235328819001",
              "height": 90,
              "width": 160
            },
            {
              "src": "https://brightcove.hs.llnwd.net/v2/unsecured/media/57838016001/201612/2025/57838016001_5235341448001_5235328819001-th.jpg?pubId=57838016001&amp;videoId=5235328819001",
              "height": 90,
              "width": 160
            }
          ]
        },
        "poster": {
          "asset_id": "5235339121001",
          "remote": false,
          "src": "http://brightcove.vo.llnwd.net/v1/unsecured/media/57838016001/201612/2025/57838016001_5235339121001_5235328819001-vs.jpg?pubId=57838016001&amp;videoId=5235328819001",
          "sources": [
            {
              "src": "http://brightcove.vo.llnwd.net/v1/unsecured/media/57838016001/201612/2025/57838016001_5235339121001_5235328819001-vs.jpg?pubId=57838016001&amp;videoId=5235328819001",
              "height": 360,
              "width": 640
            },
            {
              "src": "https://brightcove.hs.llnwd.net/v2/unsecured/media/57838016001/201612/2025/57838016001_5235339121001_5235328819001-vs.jpg?pubId=57838016001&amp;videoId=5235328819001",
              "height": 360,
              "width": 640
            }
          ]
        }
      },
      "link": null,
      "long_description": null,
      "name": "greatblueheron.mp4 - Clip-2016-12-04",
      "original_filename": "2efadac9-8e36-423c-b988-afcf2cd23c49.mov",
      "projection": null,
      "published_at": "2016-12-04T17:06:20.562Z",
      "reference_id": null,
      "schedule": null,
      "sharing": null,
      "state": "ACTIVE",
      "tags": [
        "newtag"
      ],
      "text_tracks": [],
      "updated_at": "2016-12-04T17:08:41.944Z"
    },
    {
      "id": "5235312567001",
      "account_id": "57838016001",
      "ad_keys": null,
      <span class="bcls-highlight">"clip_source_video_id": "5220368996001",</span>
      "complete": true,
      "created_at": "2016-12-04T17:07:58.450Z",
      "cue_points": [],
      "custom_fields": {
        "subject": "Birds"
      },
      "delivery_type": "static_origin",
      "description": "Mother and child owls...",
      "digital_master_id": "5235341452001",
      "duration": 39253,
      "economics": "AD_SUPPORTED",
      "folder_id": null,
      "geo": null,
      "has_digital_master": true,
      "images": {
        "thumbnail": {
          "asset_id": "5235339124001",
          "remote": false,
          "src": "http://brightcove.vo.llnwd.net/v1/unsecured/media/57838016001/201612/1897/57838016001_5235339124001_5235312567001-th.jpg?pubId=57838016001&amp;videoId=5235312567001",
          "sources": [
            {
              "src": "http://brightcove.vo.llnwd.net/v1/unsecured/media/57838016001/201612/1897/57838016001_5235339124001_5235312567001-th.jpg?pubId=57838016001&amp;videoId=5235312567001",
              "height": 90,
              "width": 160
            },
            {
              "src": "https://brightcove.hs.llnwd.net/v2/unsecured/media/57838016001/201612/1897/57838016001_5235339124001_5235312567001-th.jpg?pubId=57838016001&amp;videoId=5235312567001",
              "height": 90,
              "width": 160
            }
          ]
        },
        "poster": {
          "asset_id": "5235341824001",
          "remote": false,
          "src": "http://brightcove.vo.llnwd.net/v1/unsecured/media/57838016001/201612/1897/57838016001_5235341824001_5235312567001-vs.jpg?pubId=57838016001&amp;videoId=5235312567001",
          "sources": [
            {
              "src": "http://brightcove.vo.llnwd.net/v1/unsecured/media/57838016001/201612/1897/57838016001_5235341824001_5235312567001-vs.jpg?pubId=57838016001&amp;videoId=5235312567001",
              "height": 540,
              "width": 960
            },
            {
              "src": "https://brightcove.hs.llnwd.net/v2/unsecured/media/57838016001/201612/1897/57838016001_5235341824001_5235312567001-vs.jpg?pubId=57838016001&amp;videoId=5235312567001",
              "height": 540,
              "width": 960
            }
          ]
        }
      },
      "link": null,
      "long_description": null,
      "name": "Great Horned Owl - Clip-2016-12-04",
      "original_filename": "c0640095-e696-41ea-8e7e-2ebf4d090d69.mov",
      "projection": null,
      "published_at": "2016-12-04T17:07:58.450Z",
      "reference_id": null,
      "schedule": null,
      "sharing": null,
      "state": "ACTIVE",
      "tags": [
        "bird",
        "nature",
        "air"
      ],
      "text_tracks": [],
      "updated_at": "2016-12-04T17:09:16.967Z"
    }
  ]</code></pre>
  </section>
  
  <section id="removingAssets" class="bcls-section">
  <h2>자산 제거</h2>
  
  <p>소셜 미디어 사이트에 공유하는 것 이외의 다른 목적으로 클립을 사용하지 않으려면 자산을 제거하여 관리되는 스토리지를 줄이는 것이 좋습니다. 저장 면에서 변환이 가장 큰 차이를 보이지만 원하는 경우 포스터와 썸네일도 제거할 수 있습니다(이렇게 하면 Studio의 클립을 일반 용도의 비디오가 아닌 것으로 식별하는 데 도움이 됩니다).</p>
  
  <aside class="bcls-aside bcls-aside--warning">당신은<strong> ~ 아니다</strong>클립 자체를 삭제하려고 합니다. 삭제하면 더 이상 해당 클립에 대한 소셜 분석을 받을 수 없기 때문입니다. 당신은 또한<strong> ~ 아니다</strong>클립을 비활성화하거나 미래 날짜로 예약하면 소셜 분석을 받을 수 있습니다.</aside>
  
  <p>자산을 제거하려면 다음을 사용합니다. <a href="/cms/references/reference.html#api-assetGroup"> CMS API의 자산 끝점</a> . 논리는 간단합니다. 먼저 자산을 GET하여 Video Cloud 시스템에서 ID를 검색한 다음 삭제합니다.</p>
  
  <figure class="bcls-figure"><img class="bcls-image" alt="Logic for Removing Rendtions" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/cms-api/guides/clips/clips.svg" />
  <figcaption class="bcls-caption--image">변환 제거 논리</figcaption>
  </figure>
  
  <p>일반적으로 삭제할 포스터와 축소판은 하나만 있지만 일반적으로 여러 변환이 있으므로 프로그래밍 방식으로 이 작업을 수행하려는 경우 GET 변환 요청에서 반환된 개체 배열을 반복하고 삭제해야 합니다. 하나씩 연주합니다. 다음은 자산 제거 작업을 수행하기 위한 관련 API 엔드포인트 및 일부 샘플 코드(JavaScript + API 요청을 위해 PHP로 작성된 프록시)입니다.</p>
  </section>
  
  <section id="assetEndpoints" class="bcls-section">
  <h2>자산 엔드포인트</h2>
  
  <p>다음은 자산을 제거하는 데 필요한 관련 자산 엔드포인트입니다. 이러한 모든 엔드포인트의 기본 URL은 다음과 같습니다.</p>
  
  <pre class="line-numbers">
  <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts</code></pre>
  
  <h3>변환</h3>
  
  <h4>GET 변환</h4>
  
  <pre class="line-numbers">
  <code class="language-http" translate="No">/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span>/assets/renditions</code></pre>
  
  <h4>변환 삭제</h4>
  
  <pre class="line-numbers">
  <code class="language-http" translate="No">/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span>/assets/renditions/<span class="bcls-input">rendition_id</span></code></pre>
  
  <h3>포스터</h3>
  
  <h4>GET 포스터</h4>
  
  <pre class="line-numbers">
  <code class="language-http" translate="No">/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span>/assets/poster</code></pre>
  
  <h4>포스터 삭제</h4>
  
  <pre class="line-numbers">
  <code class="language-http" translate="No">/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span>/assets/poster/<span class="bcls-input">poster_id</span></code></pre>
  
  <h3>썸네일</h3>
  
  <h4>미리보기 이미지 가져오기</h4>
  
  <pre class="line-numbers">
  <code class="language-http" translate="No">/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span>/assets/thumbnail</code></pre>
  
  <h4>썸네일 삭제</h4>
  
  <pre class="line-numbers">
  <code class="language-http" translate="No">/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span>/assets/thumbnail/<span class="bcls-input">thumbnail_id</span></code></pre>
  </section>
  
  <section id="sampleCode" class="bcls-section">
  <h2>샘플 앱</h2>
  
  <p>다음은 계정의 모든 클립을 찾은 다음 각 클립의 포스터 및 축소판뿐만 아니라 모든 변환을 제거하는 앱의 샘플 코드입니다.</p>
  
  <h3>HTML</h3>
  
  <pre class="line-numbers">
  <code class="language-html" translate="No">&lt;fieldset&gt;
      &lt;legend&gt;Inputs&lt;/legend&gt;
      &lt;p&gt;Account id: &lt;input type="text" name="account_id" id="account_id" value=""&gt;&lt;/p&gt;
      &lt;p&gt;Client id: &lt;input type="text" name="client_id" id="client_id" value=""&gt;&lt;/p&gt;
      &lt;p&gt;Client secret: &lt;input type="text" name="client_secret" id="client_secret" value=""&gt;&lt;/p&gt;
      &lt;p&gt;&lt;button id="goBtn"&gt;Remove all clip assets&lt;/button&gt;&lt;/p&gt;
  &lt;/fieldset&gt;
  &lt;h2&gt;Results&lt;/h2&gt;
  &lt;pre id="status"&gt;&lt;/pre&gt;</code></pre>
  
  <h3>자바스크립트</h3>
  
  <pre class="line-numbers">
  <code class="language-javascript" translate="No">var BCLS = (function (window, document) {
    /**
     * this scripts assumes that HTML elements with ids shown
     * in the following assignments exist in the page that
     * calls this script.
     * Alternatively, store the client_id and client_secret
     * in the proxy (NOT in a client-side script!)
     * and the account_id value here
     */
    var account_id      = document.getElementById('account_id'),
        client_id       = document.getElementById('client_id'),
        client_secret   = document.getElementById('client_secret'),
        status          = document.getElementById('status'),
        goBtn           = document.getElementById('goBtn'),
        videoCount      = 0,
        videoNumber     = 0,
        totalCalls      = 0,
        callNumber      = 0,
        renditionNumber = 0,
        videoData       = [],
        renditionData   = [],
        posterData      = {},
        thumbnailData   = {};
  
    /**
     * sets up all API requests and handles the responses
     * @param {String} type the request type
     */
    function setUpRequest(type) {
        var baseURL = 'https://cms.api.brightcove.com/v1/accounts',
            endpoint,
            responseDecoded,
            // recommended limit value for best performance with CMS API
            limit   = 25,
            options = {};
        options.client_id = (client_id.value) ? client_id.value : null;
        options.client_secret = (client_secret.value) ? client_secret.value : null;
  
        switch (type) {
            // get a count of clips
            case 'getCount':
                endpoint = '/' + account_id.value + '/counts/videos?q=%2Bis_clip:true';
                options.url = baseURL + endpoint;
                options.requestType = 'GET';
                makeRequest(options, function(response) {
                    if (response) {
                        responseDecoded = JSON.parse(response);
                        videoCount = parseInt(responseDecoded.count);
                        // calculate total calls needed to get the video clips
                        totalCalls = Math.ceil(videoCount / limit);
                        setUpRequest('getVideoClips');
                    }
                });
                break;
            // retrieve the clips
            case 'getVideoClips':
                endpoint = '/' + account_id.value + '/videos?q=%2Bis_clip:true&amp;limit=' + limit + '&amp;offset=' + (limit * callNumber);
                options.url = baseURL + endpoint;
                options.requestType = 'GET';
                makeRequest(options, function(response) {
                    if (response) {
                        responseDecoded = JSON.parse(response);
                        // add new clips to videoData array
                        videoData.push.apply(videoData, responseDecoded);
                    }
                    // increment the call number
                    callNumber++;
                    // are we done?
                    if (callNumber &lt; totalCalls) {
                        // get the next batch
                        setUpRequest('getVideoClips');
                    } else {
                        // got all the clips
                        // update status
                        status.textContent =+ videoData.length + ' video clips found \n';
                        // reset the callNumber
                        callNumber = 0;
                        setUpRequest('getRenditions');
                    }
                });
                break;
            case 'getRenditions':
                endpoint = '/' + account_id.value + '/videos/' + videoData[videoNumber].id + '/assets/renditions';
                options.url = baseURL + endpoint;
                options.requestType = 'GET';
                // update status
                status.textContent =+ 'fetching renditions for clip ' + videoData[callNumber].name + ' \n';
                makeRequest(options, function(response) {
                  if (response) {
                      responseDecoded = JSON.parse(response);
                      renditionData = responseDecoded;
                      // update status
                      status.textContent =+ renditionData.length + ' renditions found for clip ' + videoData[callNumber].name + ' \n';
                      if (renditionData.length &gt; 0) {
                          setUpRequest('deleteRendition');
                      } else {
                          setUpRequest('getPoster');
                      }
                  } else {
                      // no renditions
                      status.textContent =+ 'no renditions found for clip number ' + videoData[callNumber].name + ' \n';
                      setUpRequest('getPoster');
                  }
                });
                break;
            case 'deleteRendition':
                endpoint = '/' + account_id.value + '/videos/' + videoData[videoNumber].id + '/assets/renditions/' + renditionData[renditionNumber].id;
                options.url = baseURL + endpoint;
                options.requestType = 'DELETE';
                makeRequest(options, function(response) {
                  // there should be no response unless there was an error
                  if (response) {
                      status.textContent += 'Delete rendition response: ' + response + ' \n';
                      // keep going anyway
                      renditionNumber++;
                      if (renditionNumber &lt; renditionData.length) {
                          setUpRequest('deleteRendition');
                      } else {
                          // done with renditions, do poster
                          setUpRequest('getPoster');
                      }
                  } else {
                      status.textContent += 'Rendition deleted for ' + videoData[callNumber].name + '\n';
                      renditionNumber++;
                      // check to see if there are more renditions
                      if (renditionNumber &lt; renditionData.length) {
                          setUpRequest('deleteRendition');
                      } else {
                          // do the poster
                          setUpRequest('getPoster');
                      }
                  }
                });
                break;
            case 'getPoster':
                endpoint = '/' + account_id.value + '/videos/' + videoData[videoNumber].id + '/assets/poster';
                options.url = baseURL + endpoint;
                options.requestType = 'GET';
                makeRequest(options, function(response) {
                  if (response) {
                      posterData = JSON.parse(response);
                      setUpRequest('deletePoster');
                  } else {
                      // no poster, do the thumbail
                      setUpRequest('getThumbnail');
                  }
                });
                break;
            case 'deletePoster':
                endpoint = '/' + account_id.value + '/videos/' + videoData[videoNumber].id + '/assets/poster/' + posterData.id;
                options.url = baseURL + endpoint;
                options.requestType = 'DELETE';
                makeRequest(options, function(response) {
                  // no response unless something went wront
                  if (response) {
                      status.textContent += 'Delete poster response: ' + response + ' \n';
                      // try thumbnail anyway
                      setUpRequest('getThumbnail');
                  } else {
                      // success; do thumbnail
                      status.textContent += 'Poster deleted for ' + videoData[callNumber].name + ' \n';
                      setUpRequest('getThumbnail');
                  }
                 });
                break;
            case 'getThumbnail':
                endpoint = '/' + account_id.value + '/videos/' + videoData[callNumber].id + '/assets/thumbnail';
                options.url = baseURL + endpoint;
                options.requestType = 'GET';
                makeRequest('options', function(response) {
                  if (response) {
                      thumbnailData = JSON.parse(response);
                      setUpRequest('deleteThumbnail');
                  } else {
                      // if no thumbnail, go on
                      videoNumber++;
                      if (videoNumber &lt; videoCount) {
                          setUpRequest('getRenditions');
                      } else {
                          // done
                          status.textContent += 'Finished!';
                      }
                  }
                });
                break;
            case 'deleteThumbnail':
                endpoint = '/' + account_id.value + '/videos/' + videoData[videoNumber].id + '/assets/thumbnail/' + thumbnailData.id;
                options.url = baseURL + endpoint;
                options.requestType = 'DELETE';
                makeRequest(options, function(response) {
                  // no response unless something went wrong
                  if (response) {
                      status.textContent += 'Delete thumbnail response: ' + response + ' \n';
                      // do next video anyway if any
                      videoNumber++;
                      if (videoNumber &lt; videoCount) {
                          setUpRequest('getRenditions');
                      } else {
                          // done
                          status.textContent += 'Finished!';
                      }
                  } else {
                      // success
                      status.textContent += 'Thumbnail deleted for ' + videoData[callNumber].name + ' \n';
                      // do next video if any
                      videoNumber++;
                      if (videoNumber &lt; videoCount) {
                          setUpRequest('getRenditions');
                      } else {
                          // done
                          status.textContent += 'Finished!';
                      }
                  }
                });
                break;
            default:
              if (console) {
                  console.log('default case: we should not be here');
              }
        }
    }
  
    /**
     * send API request to the proxy
     * @param  {Object} requestData options for the request
     * @param  {Function} [callback] callback function
     */
    function makeRequest(options, callback) {
      var httpRequest = new XMLHttpRequest(),
        response,
        requestParams,
        dataString,
        proxyURL = 'https://solutions.brightcove.com/bcls/bcls-proxy/clips-proxy.php',
        // response handler
        getResponse = function() {
          try {
            if (httpRequest.readyState === 4) {
                if (httpRequest.status &gt;= 200 &amp;&amp; httpRequest.status &lt; 300) {
                  response = httpRequest.responseText;
                  console.log('raw response', response);
                  // some API requests return '{null}' for empty responses - breaks JSON.parse
                  if (response === '{null}') {
                    response = null;
                  }
                  // return the response
                  callback(response);
                } else {
                  alert('There was a problem with the request. Request returned ' + httpRequest.status);
                }
              }
            } catch (e) {
              alert('Caught Exception: ' + e);
            }
          };
    /**
     * set up request data
     * the proxy used here takes the following request body:
     * JSON.stringify(options)
     */
    // set response handler
    httpRequest.onreadystatechange = getResponse;
    // open the request
    httpRequest.open('POST', proxyURL);
    // set headers if there is a set header line, remove it
    // open and send request
    httpRequest.send(JSON.stringify(options));
  }</code></pre>
  
  <h3>대리</h3>
  
  <aside class="bcls-aside bcls-aside--information">이 페이지에서 고유한 버전의 샘플 앱을 빌드하려면 고유한 프록시를 만들고 호스팅해야 합니다. (Brightcove Learning Services에서 사용하는 프록시는 Brightcove 도메인의 요청만 수락합니다.) 두 가지 버전의 프록시 코드를 다운로드할 수 있습니다.
  <ul>
    <li><a href="https://apis.support.brightcove.com/assets/downloads/bcls-proxy-for-distribution.php.zip">이것은 클라이언트 자격 증명이 요청과 함께 전달될 것으로 예상하는 일반 버전입니다.</a></li>
    <li><a href="https://apis.support.brightcove.com/assets/downloads/doc-samples-proxy.php.zip">이 버전을 사용하면 25-26행의 프록시 자체에 클라이언트 자격 증명을 저장할 수 있습니다(권장).</a></li>
  </ul>
  </aside>
  </section>
  </article>