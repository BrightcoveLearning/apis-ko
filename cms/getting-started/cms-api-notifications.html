---
title: 'CMS API 알림'
description: '이 주제에서는 다음에 대해 배울 것입니다. <span translate="No"> CMS API</span>알림. NS <span translate="No"> CMS API</span>계정 사용자 또는 Video Cloud 시스템에 의해 수행된 계정의 비디오 변경 사항에 대한 알림을 제공합니다. '
parent: 'Getting Started' 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
  <h2 id="overview">개요</h2>
  
  <p>다음과 같은 경우 알림을 받을 수 있습니다. <code translate="No">video-change</code>이벤트는 비디오 라이브러리에서 발생합니다. 알림은 처리할 수 있는 응용 프로그램을 가리켜야 하는 지정한 URL로 전송됩니다. <span translate="No"> HTTP </span><code translate="No">POST</code>요청.</p>
  
  <h3>입증</h3>
  
  <p>CMS API에 대한 모든 요청과 마찬가지로 알림 구독을 설정하거나 나열하기 위한 요청은 다음을 사용하여 인증되어야 합니다. <a href="/oauth/guides/getting-access-tokens.html">액세스 토큰</a> . 액세스 토큰을 가져오는 데 사용되는 클라이언트 자격 증명에는 다음 권한이 있어야 합니다. <code translate="No">video-cloud/notifications/all</code> ( <strong translate="No"> CMS-&gt;알림</strong>당신이 사용하는 경우<a href="https://studio.support.brightcove.com/admin/managing-api-authentication-credentials.html">스튜디오 UI</a>자격 증명을 생성합니다.)</p>
  
  <h3>설정</h3>
  
  <p>알림을 수신할 끝점을 최대 10개까지 지정할 수 있습니다. <code translate="No">POST</code>요청하다<code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/{account_id}/subscriptions</code>다음과 같이 요청 본문에 JSON을 포함합니다.</p>
  
  <pre class="line-numbers">
        <code class="language-json" translate="No">{
        "endpoint":"http://solutions.brightcove.com/bcls/di-api/di-callbacks.php",
        "events":["video-change"]
        }
        </code>
        </pre>
  
  <p>알림은 JSON 형식으로 전송됩니다. 다음은 예입니다.</p>
  
  <pre class="line-numbers">
        <code class="language-json" translate="No">{"timestamp":1423840514446,
        "account_id":"775205503001",
        "event":"video-change",
        "video":"4020894387001",
        "version":26}
        </code>
        </pre>
  
  <aside class="bcls-aside bcls-aside--information">현재 API를 통하지 않고 알림을 구독하는 다른 방법은 없습니다.</aside>
  
  <h3>알림 필드</h3>
  
  <table class="bcls-table">
    <thead class="bcls-table__head">
      <tr>
        <th>안건</th>
        <th>설명</th>
      </tr>
    </thead>
    <tbody class="bcls-table__body">
      <tr>
        <td ><code translate="No">timestamp</code></td>
        <td >이벤트가 발생한 시간<span translate="No">시대</span>밀리초</td>
      </tr>
      <tr>
        <td ><code translate="No">account_id</code></td>
        <td >NS <span translate="No">비디오 클라우드</span>계정 ID</td>
      </tr>
      <tr>
        <td ><code translate="No">event</code></td>
        <td >이벤트 유형 - 현재는 항상<code translate="No">video-change</code></td>
      </tr>
      <tr>
        <td ><code translate="No">video</code></td>
        <td >비디오 ID</td>
      </tr>
      <tr>
        <td ><code translate="No">version</code></td>
        <td >비디오 버전 - 각 변경 이벤트 세트는 비디오 버전을 증가시킵니다. 예를 들어, 새로운 변환 세트를 생성하면 변경 이벤트 세트가 구성됩니다.</td>
      </tr>
    </tbody>
  </table>
  
  <p>구독 생성 요청은 다음을 수신합니다. <span translate="No"> HTTP 422</span>다음 조건에 대한 오류 응답:</p>
  
  <ul>
    <li>NS <code translate="No">endpoint</code>또는<code translate="No">events</code>요청 본문에서 필드가 누락되었습니다.</li>
    <li>NS <code translate="No">events</code>필드 값이 목록(배열)이 아닙니다.</li>
    <li>정의된 구독이 이미 있습니다.</li>
    <li>이 이벤트에 이미 10개의 구독이 있습니다.</li>
  </ul>
  
  <h3>알림 실패</h3>
  
  <p>알림 시스템은 모든<code translate="No">4xx</code>또는<code translate="No">5xx</code>재시도 가능한 실패로 고객 서버에서 반환합니다. 실패한 콜백은 최대 20번까지 재시도되며 후속 콜백 사이의 지연은 기하급수적으로 증가합니다. 처음 몇 번의 재시도는 초기 콜백 시도 후 몇 분 이내에 발생합니다. 콜백이 계속 실패하고 20번째 재시도까지 계속되면 재시도 지연은 며칠이 될 것입니다.</p>
  
  <aside class="bcls-aside bcls-aside--information">&gt;참고:
  <ul>
    <li><code translate="No">video-change</code>이벤트는 자동화된 시스템 프로세스 및 사용자 작업에 의해 트리거되므로 이러한 이벤트는 Studio 또는 API를 통해 변경한 동영상 속성과 항상 일치하지는 않습니다.</li>
    <li>HTTP2에 구축된 서버의 알림 핸들러는 현재 지원되지 않습니다. HTTP2 서버로 보낸 알림은 오류를 반환하지 않고 전달되지 않을 수 있습니다.</li>
  </ul>
  </aside>
  
  <h3>방화벽</h3>
  
  <p>조직에 방화벽을 통해 들어오는 트래픽 소스에 대한 엄격한 정책이 있는 경우 AWS us-east-1/Virginia IP를 허용합니다. 이는 변경될 수 있으므로 모든 AWS IP를 화이트리스트에 추가해야 합니다. 보다<a href="http://docs.aws.amazon.com/general/latest/gr/aws-ip-ranges.html"> http://docs.aws.amazon.com/general/latest/gr/aws-ip-ranges.html</a>자세한 내용은.</p>
  
  <h3>알림 구독을 위한 끝점</h3>
  
  <pre class="line-numbers">
        <code class="language-http" translate="No">/accounts/{account_id}/subscriptions
        </code>
        </pre>
  
  <h3 id="createSubscription">새 구독 만들기</h3>
  
  <p>새 구독을 만들려면<code translate="No">POST</code>알림을 전달하려는 엔드포인트를 포함하는 요청 본문이 있는 요청 및<code translate="No">video-change</code>의 단일 항목으로<code translate="No">events</code>정렬:</p>
  
  <pre class="line-numbers">
        <code class="language-json" translate="No">{ "endpoint": "http://solutions.brightcove.com:9002", "events": [ "video-change" ] }
        </code>
        </pre>
  
  <h3 id="getSubscriptions">구독 목록 가져오기</h3>
  
  <p>모든 구독 목록을 얻으려면<code translate="No">GET</code>구독 끝점에 요청합니다.</p>
  
  <h3 id="getSubscription">단일 구독 가져오기 또는 삭제</h3>
  
  <p>다음 엔드포인트를 사용하여 단일 구독을 가져오거나 삭제합니다.</p>
  
  <h4>끝점</h4>
  
  <pre class="line-numbers">
        <code class="language-http" translate="No">/accounts/{account_id}/subscriptions/{subscription_id}
        </code>
        </pre>
  
  <p>NS <code translate="No">GET</code>요청은 구독을 검색합니다. NS <code translate="No">DELETE</code>요청하면 구독이 삭제됩니다. 지금은 구독을 업데이트할 수 없습니다. 구독을 수정하려면 구독을 삭제하고 새로 만들어야 합니다.</p>
  </section>
  
  <section class="bcls-section">
  <h2 id="What_triggers">알림을 트리거하는 것은 무엇입니까?</h2>
  
  <p><code translate="No">video-change</code>이벤트는 비디오 메타데이터의 변경에 의해 트리거됩니다. 여기에는 Studio에서 또는<span translate="No"> CMS API</span>쓰기 방법. 트리거할 시스템 이벤트도 있습니다. <code translate="No">video-change</code>이벤트.</p>
  
  <p>이벤트를 트리거하는 변경 사항은 다음과 같습니다.</p>
  
  <ul>
    <li>동영상이 생성됩니다</li>
    <li>비디오 또는 자산 파일 수집 시작</li>
    <li>비디오 또는 자산 파일의 수집이 완료되었습니다.</li>
    <li>새 변환의 인코딩이 완료됩니다.</li>
    <li>포스터 이미지가 생성됩니다.</li>
    <li>썸네일 이미지가 생성됩니다</li>
    <li>동영상이 삭제되었습니다.</li>
    <li>비디오 메타데이터가 변경됨(시스템 또는 사용자에 의해)</li>
  </ul>
  
  <h3>노트</h3>
  
  <p>비디오를 재변환해도 트리거되지 않습니다. <code translate="No">video-change</code>결과 변환 세트가 다른 경우가 아니면 이벤트입니다.</p>
  
  <p>동영상이 삭제된 후 시스템 이벤트가 발생하므로 삭제 후 동영상에 대한 알림을 받게 됩니다.</p>
  
  <p>무엇을 할 것인가<strong> ~ 아니다</strong>방아쇠를 당기다<code translate="No">video-change</code>이벤트는 비디오 메타데이터를 변경하지 않는 비디오 자산의 변경입니다. 예를 들어 원격 텍스트 트랙 파일이나 이미지를 교체했지만 비디오 메타데이터에 기록된 URL이 동일하게 유지되는 경우<code translate="No">video-change</code>이벤트가 발생하고 알림이 전송되지 않습니다.</p>
  </section>
  </article>