
---
title: '플레이어 관리 샘플 설정'
description: '이 페이지에서는 새 플레이어의 기본 샘플을 작성하는 방법을 설명합니다. 여기에는 기본 인증 및 AJAX가 Player Management API 샘플에서 사용되는 방식에 대한 세부 정보가 포함됩니다. '
parent: Code Samples 
grandparent: Player Management API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="Introduction">소개</h2>
    
    <p>단계별: API와 상호 작용하기 위해 curl 문을 사용한 플레이어 관리 문서. API 호출이 이루어지면 대화식으로 암호를 묻는 메시지가 표시됩니다. 이것이 curl에서는 잘 작동하지만 애플리케이션을 빌드할 때는 이러한 종류의 대화식 인증이 실현 가능하지 않습니다.</p>
    
    <p>여기에서는 AJAX라고도 하는 JavaScript 및 XMLHttpRequest를 사용하여 API 요청을 생성하여 플레이어 관리 작업을 위한 웹 클라이언트를 구축하는 방법을 배웁니다.</p>
    
    <p>플레이어 관리 API는<a href="https://general.support.brightcove.com/developer/concepts-cors.html"> CORS 지원</a> Brightcove 로그인 자격 증명을 사용하여 기본 인증을 허용하므로 Player Management API 샘플에서와 같이 웹 페이지에서 직접 API 요청을 할 수 있습니다. Brightcove의 다른 RESTful API는 다음을 통한 인증이 필요합니다. <a href="/oauth/index.html"> OAuth</a> . 액세스 토큰을 검색하는 데 사용되는 API는 CORS를 지원하지 않으므로(API 자체도 마찬가지임) 서버 측 앱을 통해 요청해야 합니다. 보다<a href="/getting-started/learning-guide-using-rest-apis.html"> REST API 사용</a> REST API에 액세스하기 위해 웹 UI 및 프록시를 사용하여 하이브리드 앱을 빌드하는 방법에 대한 가이드를 참조하세요. 이것은 HTTP 연결을 통해 자격 증명을 보내지 않고 더 안전하기 때문에 프로덕션 환경에서도 Player Management API를 사용하는 앱에 권장되는 접근 방식입니다.</p>
    
    <aside class="bcls-aside bcls-aside--warning">
    <p>이 페이지에 언급된 샘플 앱은 플레이어 관리 API의 기본 사항을 탐색하기 위한 방법입니다. 엔터프라이즈용 배포 가능한 앱이 아닙니다. 예를 들어 양식 유효성 검사는 완전하지 않으며 암호는 HTTPS를 사용하지 않고 전송됩니다.</p>
    </aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="Basic_authentication">기본 인증</h2>
    
    <p>단계별: API와 상호 작용하기 위해 curl 문을 사용한 플레이어 관리 문서. API 호출이 이루어지면 대화식으로 암호를 묻는 메시지가 표시됩니다. 이것이 curl에서는 잘 작동하지만 애플리케이션을 빌드할 때는 이러한 종류의 대화식 인증이 실현 가능하지 않습니다.</p>
    
    <p>앱 빌드 시 기본 인증을 사용할 수 있습니다. 헤더에서 base-64로 인코딩된 ASCII 문자열로 암호화된 자격 증명을 보내야 합니다. 당신은 자바 스크립트를 사용할 수 있습니다<code translate="No">btoa()</code>인코딩을 수행하는 방법입니다. 가정<code translate="No">account_username</code>그리고<code translate="No">account_password</code>예를 들어 양식에서 채워진 경우 Authorization 헤더는 다음과 같이 나타납니다.</p>
    
    <pre class="line-numbers">
    <code class="language-javascript" translate="No"> "Authorization": "Basic " + btoa(account_username + ":" + account_password),</code></pre>
    </section>
    
    <section id="ajax" class="bcls-section">
    <h2>아약스</h2>
    
    <aside class="bcls-aside bcls-aside--information">
    <p>이 섹션에서는 다음을 사용하여 AJAX를 사용하는 방법을 배웁니다. <a href="//jquery.org">제이쿼리</a> . jQuery는 AJAX 요청을 만드는 것과 관련된 명령을 ajax() 함수로 캡슐화하므로 개발자로서 작업을 단순화합니다. 그러나 jQuery는 AJAX에 필요하지 않으며 다음 섹션에서는 일반 JavaScript로 AJAX 요청을 만드는 방법을 보여줍니다.</p>
    </aside>
    
    <p>curl 문을 사용하는 대신 이 샘플은 JavaScript를 사용하여 API와 통신합니다. 이것은 AJAX를 사용하여 API에 요청을 발행하는 것을 의미합니다. 특정 예시 요청은 다음과 같을 수 있습니다.</p>
    
    <pre class="line-numbers">
    <code class="language-javascript" translate="No">$.ajax({
        type: "DELETE",
        headers: {
        "Authorization": "Basic " + btoa("username:password"),
        "Content-Type": "application/json"
        },
        url: "https://players.api.brightcove.com/v2/accounts/123456789/players/478772a5-a2f2-44c6-a26b-2d7234bd97f5",
        success: ajaxSuccess,
        error: ajaxError
    });</code></pre>
    
    <p>관련된<code translate="No">success</code>그리고<code translate="No">error</code>핸들러는 다음과 같이 보일 수 있습니다.</p>
    
    <pre class="line-numbers">
    <code class="language-javascript" translate="No">var ajaxSuccess = function (data) {
        document.getElementById("jsonResponse").innerHTML = JSON.stringify(data,null,2);
        };
    
        var ajaxError = function (data) {
        console.log("error data: ");
        console.log(data);
    };</code></pre>
    
    <p>물론 위에 표시된 것처럼 AJAX 호출의 모든 정보를 하드 코딩하고 싶지는 않으므로 다음과 같이 재사용 가능한 함수에 대한 실제 호출을 추상화하는 것이 좋습니다.</p>
    
    <pre class="line-numbers">
    <code class="language-javascript" translate="No">var makeAjaxCall = function (callURL, callType, callData) {
        if (callData) {
            $.ajax({
                type: callType,
                headers: {
                    "Authorization": "Basic " + btoa(account_username + ":" + account_password),
                    "Content-Type": "application/json"
                },
                url: callURL,
                data: JSON.stringify(callData),
                success: ajaxSuccess,
                error: ajaxError
            });
        } else {
            $.ajax({
            type: callType,
            headers: {
                "Authorization": "Basic " + btoa(account_username + ":" + account_password),
                "Content-Type": "application/json"
            },
            url: callURL,
            success: ajaxSuccess,
            error: ajaxError
            });
        }
    };</code></pre>
    <!-- <code data-gist-id="9216425" data-gist-hide-footer="true" data-gist-line="22-47"></code><br /> -->
    
    <aside class="bcls-aside bcls-aside--information">API 호출로 데이터를 전달해야 하는 경우 별도의 호출이 빌드됩니다. 단계별: 두 사용 사례를 모두 본 플레이어 관리 문서. 플레이어를 게시할 때는 데이터를 전달할 필요가 없지만 미디어 소스로 플레이어를 만들려면 데이터를 전달해야 합니다.</aside>
    
    <p>그러면 함수를 호출할 준비가 된 것입니다. 다음 예에서는<code translate="No">account_id</code> , <code translate="No">account_password</code>그리고<code translate="No">account_username</code>값은 모두 양식에서 추출됩니다.</p>
    
    <pre class="line-numbers">
    <code class="language-javascript" translate="No">var getPlayerInfo = function () {
        account_id = document.getElementById("account_id").value,
        account_password = document.getElementById("account_password").value,
        account_username = document.getElementById("account_username").value;
        call_url = "https://players.api.brightcove.com/v2/accounts/" + account_id + "/players";
        makeAjaxCall(call_url, "GET", null);
    };</code></pre>
    <!-- <code data-gist-id="9216425" data-gist-hide-footer="true" data-gist-line="49-55"></code><br /> -->
    
    <p>단계별 작업을 완료한 경우: 플레이어 관리 문서에서는 일부 프로세스가 플레이어 생성 및 게시와 같은 여러 API 호출을 사용한다는 것을 알고 있습니다. 또한 일부 앱의 논리에는 표시할 모든 플레이어 목록을 가져온 다음 사용자가 표시한 플레이어를 삭제하는 것과 같이 여러 API 호출이 필요할 수 있습니다. 이러한 경우에는 귀하의 계정을 변경해야 할 가능성이 가장 높습니다<code translate="No">success</code>어떤 호출이 성공적으로 수행되었는지에 따라 다른 논리를 수행하는 핸들러. 이러한 샘플 앱에서 이러한 사용 사례에 대한 구현 논리는 플래그 변수를 사용하여 구현됩니다. <code translate="No">callPurpose</code> , 그리고<code translate="No">case</code>다음과 같이 해당 플래그를 사용하는 문:</p>
    
    <pre class="line-numbers">
    <code class="language-javascript" translate="No">var ajaxSuccess = function (data) {
        switch (callPurpose) {
            case "getPlayers":
                createCheckboxes(data);
                watchCheckboxes();
                break;
            case "deletePlayer":
                document.getElementById("jsonResponse").textContent += data;
                break;
        }
    };</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="AJAX_without_jquery">jQuery가 없는 AJAX</h2>
    
    <p>jQuery를 사용하지 않으려면 AJAX 요청을 만드는 것이 조금 더 복잡하지만 너무 많지는 않습니다. 다음은 시작하기 위한 주석과 함께 몇 가지 샘플 코드입니다.</p>
    
    <pre class="line-numbers">
    <code class="language-javascript" translate="No">/**
     * createRequest sets up requests, send them to makeRequest(), and handles responses
     * @param  {string} type the request type
     */
    function createRequest(type) {
        var options   = {},
            baseURL = 'https://players.api.brightcove.com/v2/accounts/',
            account_id = '1234567890',
            // would be better to get these from form fields
            // and not hardcode them
            username = 'jane@myplace.com',
            password = 'mypassword',
            responseDecoded;
    
        // set credentials
        options.client_id     = cid.value;
        options.client_secret = secret.value;
    
        switch (type) {
            case 'getPlayers':
                options.url         = ipBaseURL + account_id + '/players';
                options.requestType = 'GET';
                options.username = username;
                options.password = password;
                makeRequest(options, function(response) {
                    // use try catch in case something went wrong
                    try {
                        responseDecoded = JSON.parse(response);
                        // now do whatever you want with the response
                    }
                    catch (e) {
                        console.log('something went wrong - this was the JSON.parse error: ' + e);
                    }
                });
                break;
            // additional cases
            default:
                console.log('Should not be getting to the default case - bad request type sent');
                break;
        }
    }
    
    /**
     * send API request
     * @param  {Object} options for the request
     * @param  {String} options.url the full API request URL
     * @param  {String="GET","POST","PATCH","PUT","DELETE"} requestData [options.requestType="GET"] HTTP type for the request
     * @param  {String} options.username username for the account
     * @param  {String} options.password password for the account
     * @param  {JSON} [options.requestBody] Data (if any) to be sent in the request body in the form of a JSON string
     * @param  {Function} [callback] callback function that will process the response
     */
    function makeRequest(options, callback) {
        var httpRequest = new XMLHttpRequest(),
            response,
            requestParams,
            dataString,
            // response handler
            getResponse = function() {
                try {
                    if (httpRequest.readyState === 4) {
                        // don't just check for status = 200
                        // some requests return other 2xx codes
                        if (httpRequest.status &gt;= 200 &amp;&amp; httpRequest.status &lt; 300) {
                            response = httpRequest.responseText;
                            // return the response to the callback
                            callback(response);
                        } else {
                            alert('There was a problem with the request. Request returned ' + httpRequest.status);
                        }
                    }
                } catch (e) {
                    alert('Caught Exception: ' + e);
                }
            };
        /**
         * set up request data
         */
        // set response handler
        httpRequest.onreadystatechange = getResponse;
        // open the request
        httpRequest.open(options.requestType, options.url);
        // set headers
        httpRequest.setRequestHeader("Content-Type", "application/json");
        httpRequest.setRequestHeader("Authorization", "Basic " + btoa(options.username + ":" + options.password));
        // open and send request
        if (options.requestBody) {
            httpRequest.send(options.requestBody)
        } else {
            httpRequest.send();
        }
    }</code></pre>
    </section>
    </article>
 