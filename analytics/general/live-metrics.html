
---
title: '분석 API: 라이브 메트릭'
description: '이 주제에서는 라이브 스트림에 사용할 수 있는 분석 메트릭에 대해 설명합니다. '
parent: 'General Information' 
grandparent: Analytics API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="introduction">소개</h2>

    <p>에서 제공하는 라이브 스트림에 대한 재생 측정항목<strong>브라이트코브 라이브</strong>서비스를 통해 실시간으로<strong>애널리틱스 API</strong> . 이 데이터는 다음을 위해 캡처됩니다. <em>라이브 스트림</em> 오직; VOD 재생은 포함되어 있지 않습니다.</p>

    <p>API는 2개의 엔드포인트를 통해 라이브 스트림 메트릭을 제공합니다.</p>
    <ul>
      <li><code translate="No">/v1/timeseries</code></li>
      <li><code translate="No">/v1/events</code></li>
    </ul>
    <p>둘 다 동일한 데이터 세트를 쿼리하지만 결과를 다르게 집계합니다. 이 문서에서는 각각의 사용법과 구문을 설명합니다.</p>
  </section>

  <section class="bcls-section">
    <h2 id="metrics">측정항목</h2>

    <p>라이브 엔드포인트를 통해 사용할 수 있는 메트릭입니다. 쿼리는 여러 메트릭을 요청할 수 있습니다.</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>미터법</th>
          <th>설명</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">alive_ss_ad_start</code></td>
          <td>서버 측 광고 노출수</td>
        </tr>
        <tr>
          <td><code translate="No">ccu</code></td>
          <td>고유 한 <em>세션</em>; 고유 개수(<em>지문</em> + <em>세션</em>)</td>
        </tr>
        <tr>
          <td><code translate="No">fingerprint_count</code></td>
          <td>고유 한 <em>장치</em>; 별개의 수 <em>지문</em> (아래 참조)</td>
        </tr>
        <tr>
          <td><code translate="No">video_impression</code></td>
          <td>비디오가 플레이어에 로드된 횟수</td>
        </tr>
        <tr>
          <td><code translate="No">video_seconds_viewed</code></td>
          <td>모든 시청자가 시청한 총 시간(초)</td>
        </tr>
        <tr>
          <td><code translate="No">video_view</code></td>
          <td>스트림 시작(고유하지 않음)</td>
        </tr>
      </tbody>
    </table>

    <p>을위한<strong>고유 한</strong>추적, 우리는 할당 <em>지문</em> ( <code translate="No">Remote IP</code> + <code translate="No">User-Agent</code> + <code translate="No">Player</code> ). 기기 자체의 실제 하드웨어 ID를 사용하지 않는다는 점에 유의하세요. 이렇게 하면 정확도가 떨어지지만 개인정보 보호는 유지됩니다.</p>
  </section>

  <section class="bcls-section">
    <h2 id="dimensions">치수</h2>

    <p>다음 조합은 다음과 같이 지원됩니다. <code translate="No">dimensions</code>그리고<code translate="No">where</code>필터 키:</p>

    <ul>
      <li><code translate="No">video</code></li>
      <li><code translate="No">video, country</code></li>
      <li><code translate="No">video, device_type</code></li>
    </ul>
  </section>

  <section class="bcls-section">
  <h2 id="query-parameters">쿼리 매개변수</h2>

  <p>두 라이브 끝점은 쿼리의 범위와 그룹화를 제어하는 몇 가지 공통 매개변수를 공유합니다.</p>

  <table class="bcls-table">
    <thead class="bcls-table__head">
      <tr>
        <th>매개변수</th>
        <th>통사론</th>
        <th style="text-align: center">필수의</th>
        <th style="text-align: center">기본</th>
        <th>설명</th>
      </tr>
    </thead>
    <tbody class="bcls-table__body">
      <tr>
        <td>치수</td>
        <td><code translate="No">&lt;dim1&gt;,&lt;dim2&gt;,...</code></td>
        <td style="text-align: center">와이</td>
        <td style="text-align: center">-</td>
        <td>쿼리 측정기준(GROUP BY)</td>
      </tr>
      <tr>
        <td>측정항목</td>
        <td><code translate="No">&lt;metric1&gt;,&lt;metric2&gt;,...</code></td>
        <td style="text-align: center">와이</td>
        <td style="text-align: center">-</td>
        <td>보고할 하나 이상의 측정항목</td>
      </tr>
      <tr>
        <td>어디</td>
        <td><code translate="No">&lt;dim1&gt;==&lt;value1&gt;;...</code></td>
        <td style="text-align: center">와이</td>
        <td style="text-align: center">-</td>
        <td>하나 이상의 쿼리 필터 최소 1개의 동영상을 포함해야 합니다.</td>
      </tr>
      <tr>
        <td>~에서</td>
        <td><code translate="No">&lt;epoch&gt;</code></td>
        <td style="text-align: center">N</td>
        <td style="text-align: center">지금부터 32일</td>
        <td>시간 범위 시작</td>
      </tr>
      <tr>
        <td>에게</td>
        <td><code translate="No">&lt;epoch&gt;</code></td>
        <td style="text-align: center">N</td>
        <td style="text-align: center"><em>지금</em></td>
        <td>시간 범위 종료</td>
      </tr>
    </tbody>
  </table>
</section>
<section class="bcls-section">
  <h2 id="time-series">시계열</h2>

  <p>NS <code translate="No">/v1/timeseries</code>엔드포인트는 각 시점에서 요청된 메트릭 값과 함께 타임라인을 따라 포인트 목록을 반환합니다. 포인트는<strong> 1 분</strong>기본적으로 버킷이지만 매개변수를 통해 변경할 수 있습니다.</p>

  <p>이러한 맥락에서 고유 측정항목( <code translate="No">ccu</code> , <code translate="No">fingerprint_count</code> ) 표시<strong>최대값</strong>각 버킷 중 언제든지. 그래서 쿼리<code translate="No">bucket_duration=1d</code>쿼리는 매일 최대 동시성을 반환합니다. <code translate="No">bucket_limit=1</code>스트림의 모든 지점에서 최대 동시성을 반환합니다.</p>

  <h3 id="uri">URI</h3>

  <p><code translate="No">/v1/timeseries/accounts/{account_id}</code></p>

  <h3 id="additional-parameters">추가 매개변수</h3>

  <table class="bcls-table">
    <thead class="bcls-table__head">
      <tr>
        <th>매개변수</th>
        <th>통사론</th>
        <th style="text-align: center">필수의</th>
        <th style="text-align: center">기본</th>
        <th>설명</th>
      </tr>
    </thead>
    <tbody class="bcls-table__body">
      <tr>
        <td>버킷_지속시간</td>
        <td><code translate="No">&lt;n&gt;m</code>&nbsp; (분)<br><code translate="No">&lt;n&gt;h</code> (시간)<br><code translate="No">&lt;n&gt;d</code> (날)</td>
        <td style="text-align: center">N</td>
        <td style="text-align: center">1m</td>
        <td>각 지점이 나타내는 기간입니다. <code translate="No">1d</code>달력 날짜가 아닌 24시간입니다.</td>
      </tr>
      <tr>
        <td>버킷_한도</td>
        <td><code translate="No">&lt;n&gt;</code></td>
        <td style="text-align: center">N</td>
        <td style="text-align: center">-</td>
        <td>반환할 포인트 수입니다. 둘 중 하나를 사용<code translate="No">bucket_duration</code>또는<code translate="No">bucket_limit</code> , 그러나 둘 다 함께는 아닙니다.</td>
      </tr>
    </tbody>
  </table>

  <h3 id="response">응답</h3>

<pre class="line-numbers"><code class="language-json" translate="No">{
"&lt;metric1&gt;": {
"data": [
  {
    "dimensions": {
        "account": "&lt;account&gt;",
        "&lt;dim1&gt;": "&lt;key1&gt;",
        ...
        "&lt;dimN&gt;": "&lt;keyN&gt;"
      },
    "points": [
      {
        "timestamp": &lt;bucket1&gt;,
        "value": &lt;value1&gt;
      },
      ...,
      {
        "timestamp": &lt;bucketN&gt;,
        "value": &lt;valueN&gt;
      },
    ]
  }
]
},
"&lt;metric2&gt;": {
...
},
...
}
</code></pre>
</section>

<section class="bcls-section">
  <h2 id="events">이벤트</h2>

  <p>NS <code translate="No">/v1/events</code>엔드포인트는 라이브 비디오 스트림의 전체 또는 일부에 대한 메트릭 합계를 반환합니다.</p>

  <p>이러한 맥락에서 고유 측정항목( <code translate="No">ccu</code> , <code translate="No">fingerprint_count</code> )를 나타낸다<strong>총 가치</strong>쿼리 범위를 초과합니다. 예를 들어<code translate="No">from</code> / <code translate="No">to</code>매개변수는 총 <em>고유 한</em> 전체 스트림에 대한 세션(ccu) 및/또는 장치(fingerprint_count).</p>

  <h3 id="uri-1">URI</h3>

  <p><code translate="No">/v1/events/accounts/{account_id}</code></p>

  <h3 id="additional-parameters-1">추가 매개변수</h3>

  <p><em>없음</em></p>

  <h3 id="response-1">응답</h3>

<pre class="line-numbers"><code class="language-json" translate="No">{
"data": [
{
  "dimensions": {
    "account": "&lt;account&gt;",
    "&lt;dim1&gt;": "&lt;key1&gt;",
    ...
    "&lt;dimN&gt;": "&lt;keyN&gt;"
  },
  "totals": {
    "&lt;metric1&gt;": &lt;value1&gt;,
    ...
    "&lt;metricN&gt;": &lt;valueN&gt;
  }
}
]
}
</code></pre>


  <h3 id="export">내 보내다</h3>

  <p>이벤트 엔드포인트는 다운로드 가능한 보고서도 제공합니다.</p>

  <p><code translate="No">/v1/events/accounts/{account_id}/videos/{video_id}/export?format=xlsx</code></p>

  <p>응답은<strong> XLSX</strong> 4개의 시트에 라이브 측정항목이 포함된 파일:</p>
  <ul>
    <li>요약</li>
    <li>동시 사용자</li>
    <li>기기 유형별 조회수</li>
    <li>지역별 조회수</li>
  </ul>
</section>

<section class="bcls-section">
  <h2 id="usage-examples">사용 예</h2>

  <p>이 모든 예에 대해<strong>계정 1234</strong> , <strong>비디오 5555</strong> , 현재 시간을 가정합니다. <strong>오후 12:00:00 UTC</strong> ~에<strong> 2020년 2월 15일</strong> .</p>

  <hr>
  <h4 id="get-the-current-viewer-count-ccu-for-a-live-stream-or-channel">라이브 스트림 또는 채널의 현재 시청자 수(CCU) 가져오기</h4>

  <p>세트 <em>~에서</em> 최소 2분 전(오전 11시 58분)으로 이동하고 마지막 <em>가리키다</em> 응답에서.</p>

  <p><code translate="No">/v1/timeseries/accounts/1234?dimensions=video&amp;metrics=ccu&amp;where=video==5555&amp;from=1581767880000</code></p>

  <hr>
  <h4 id="get-ccu-graph-points-for-a-live-stream-over-the-past-24-hours">지난 24시간 동안의 라이브 스트림에 대한 CCU 그래프 포인트 가져오기</h4>

  <h5 id="zoom-in-1-minute-points">확대(1분 포인트)</h5>

  <p><code translate="No">/v1/timeseries/accounts/1234?dimensions=video&amp;metrics=ccu&amp;where=video==5555&amp;from=1581681600000&amp;bucket_duration=1m</code></p>

  <h5 id="zoom-out-1-hour-points">축소(1시간 포인트)</h5>

  <p><code translate="No">/v1/timeseries/accounts/1234?dimensions=video&amp;metrics=ccu&amp;where=video==5555&amp;from=1581681600000&amp;bucket_duration=1h</code></p>

  <hr>
  <h4 id="get-the-maximum-ccu-per-day-for-a-live-channel-over-the-past-7-days">지난 7일 동안 라이브 채널에 대해 하루 최대 CCU를 가져옵니다.</h4>

  <p><code translate="No">/v1/timeseries/accounts/1234?dimensions=video&amp;metrics=ccu&amp;where=video==5555&amp;from=1581206400000&amp;bucket_duration=7d</code></p>

  <hr>
  <h4 id="get-the-maximum-ccu-at-any-time-during-a-live-stream">라이브 스트림 중 언제든지 최대 CCU를 얻으십시오.</h4>

  <p><code translate="No">/v1/timeseries/accounts/1234?dimensions=video&amp;metrics=ccu&amp;where=video==5555&amp;bucket_limit=1</code></p>

  <hr>
  <h4 id="get-the-total-unique-viewers-and-seconds-viewed-for-multiple-live-streams">여러 라이브 스트림에 대한 총 고유 시청자 수 및 조회 시간(초) 가져오기</h4>

  <p>비디오 5555가 완료되었습니다. 숫자는 최종입니다. 비디오 5556은 여전히 활성화되어 있습니다. 숫자는 누계입니다.</p>

  <p><code translate="No">/v1/events/accounts/1234?dimensions=video&amp;metrics=fingerprint_count,video_seconds_viewed&amp;where=video==5555,5556</code></p>

  <hr>
  <h4 id="get-the-viewership-and-ad-totals-for-an-hour-long-program-on-a-live-channel">라이브 채널에서 1시간 분량의 프로그램에 대한 시청률 및 광고 총계 가져오기&lt;</h4>

  <p>오전 10시~오전 11시(UTC) 방송</p>

  <p><code translate="No">/v1/events/accounts/1234?dimensions=video&amp;metrics=alive_ss_ad_start,video_view,fingerprint_count&amp;where=video==5555&amp;from=1581760800000&amp;to=1581764399999</code></p>

  <hr>
  <h4 id="get-viewership-by-country-for-the-duration-of-a-live-stream">라이브 스트림 기간 동안 국가별 시청률 얻기</h4>

  <p><code translate="No">/v1/events/accounts/1234?dimensions=video,country&amp;metrics=video_view,fingerprint_count&amp;where=video==5555</code></p>
</section>

</article>